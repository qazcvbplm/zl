webpackJsonp([1],{"/TwK":function(t,e){},0:function(t,e){},"3ntp":function(t,e){},"4x51":function(t,e){},"660i":function(t,e){},"7Otq":function(t,e,a){t.exports=a.p+"yzxy/img/logo.60b8298.png"},ArZo:function(t,e){},CIcc:function(t,e){},ChlU:function(t,e){},D9hl:function(t,e){},ESxl:function(t,e){},EsWR:function(t,e){},LOkV:function(t,e){t.exports={NODE_API:"https://www.chuyinkeji.cn"}},Lkma:function(t,e){},"MNk+":function(t,e){},NHnr:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var s=a("IvJb"),o={render:function(){var t=this.$createElement,e=this._self._c||t;return e("div",{attrs:{id:"index"}},[e("router-view")],1)},staticRenderFns:[]};var i,n=a("C7Lr")({name:"index"},o,!1,function(t){a("vUcf")},null,null).exports,l=a("zO6J"),r={data:function(){return{type:sessionStorage.getItem("type"),activeName:"/adminOverview",adminName:"",senderDai:0,ershouDai:0,pinglunDai:0,sources:0}},mounted:function(){i=this,this.initLogin(),"学校负责人登陆"==sessionStorage.getItem("type")?this.adminName=sessionStorage.getItem("schoolName"):this.adminName=sessionStorage.getItem("surperName")},methods:{initLogin:function(){var t=this;sessionStorage.getItem("schoolId")&&"学校负责人登陆"==sessionStorage.getItem("type")?(this.activeName="/adminOverview",this.$http.post(this.com.NODE_API+"/ops/sender/finddsh",{schoolId:sessionStorage.getItem("schoolId")},{headers:{token:sessionStorage.getItem("token")},emulateJSON:!0}).then(function(e){e.data.code?(t.senderDai=e.data.params.total,0!=e.data.params.total&&t.$notify({duration:6e4,title:"配送员待审核提示",message:"有"+e.data.params.total+"条待审核的配送员信息等待处理",type:"warning",offset:100})):i.$message({showClose:!0,type:"error",message:e.data.msg})}),this.$http.post(this.com.NODE_API+"/ops/secondhand/find",{page:1,size:100,schoolId:sessionStorage.getItem("schoolId"),isShow:0},{headers:{token:sessionStorage.getItem("token")},emulateJSON:!0}).then(function(e){e.data.code?(t.ershouDai=e.data.params.total,0!=e.data.params.total&&t.$notify({duration:6e4,title:"二手审核提示",message:"有"+e.data.params.total+"条二手物品审核，注意查看并处理",type:"warning",offset:100})):i.$message({showClose:!0,type:"error",message:e.data.msg})}),this.$http.post(this.com.NODE_API+"/ops/evaluate/find",{page:1,size:20,schoolId:sessionStorage.getItem("schoolId")},{headers:{token:sessionStorage.getItem("token")},emulateJSON:!0}).then(function(e){if(e.data.code){for(var a=0;a<e.data.params.list.length;a++)e.data.params.list[a].core<8&&t.pinglunDai++;0!=t.pinglunDai&&t.$notify({duration:6e4,title:"用户差评提示",message:"有"+t.pinglunDai+"条订单用户差评",type:"warning",offset:100})}else i.$message({showClose:!0,type:"error",message:e.data.msg})})):sessionStorage.getItem("surperId")&&"超级后台登陆"==sessionStorage.getItem("type")?(this.activeName="/adminOverview",this.$http.post(this.com.NODE_API+"/ops/source/order/find",{page:1,size:30,appId:sessionStorage.getItem("surperId")},{headers:{token:sessionStorage.getItem("token")},emulateJSON:!0}).then(function(e){if(e.data.code){for(var a=0;a<e.data.params.list.length;a++)"待发货"==e.data.params.list[a].status&&t.sources++;0!=t.sources&&t.$notify({duration:6e4,title:"用户积分兑换提示",message:"有"+t.sources+"待发货的积分兑换订单等待处理",type:"warning",offset:100})}else i.$message({showClose:!0,type:"error",message:e.data.msg})})):this.$router.push({path:"/login"})},logout:function(){"学校负责人登陆"==sessionStorage.getItem("type")?(sessionStorage.removeItem("token"),sessionStorage.removeItem("schoolId"),sessionStorage.removeItem("schoolName"),sessionStorage.removeItem("schoolMoney"),sessionStorage.removeItem("senderMoney"),sessionStorage.removeItem("loginName"),sessionStorage.removeItem("loginPass"),sessionStorage.removeItem("type")):(sessionStorage.removeItem("token"),sessionStorage.removeItem("surperId"),sessionStorage.removeItem("surperName"),sessionStorage.removeItem("addSchoolList"),sessionStorage.removeItem("loginName"),sessionStorage.removeItem("loginPass"),sessionStorage.removeItem("type")),this.$router.push({path:"/login"})},tologin:function(){var t=this;this.$http.post(this.com.NODE_API+"/ops/school/login",{loginName:sessionStorage.getItem("loginName"),loginPass:sessionStorage.getItem("loginPass"),type:"学校负责人登陆"==sessionStorage.getItem("type")?1:2},{emulateJSON:!0}).then(function(e){t.loading=!1,e.data.code?(t.$message({showClose:!0,type:"success",message:"登录成功"}),sessionStorage.setItem("token",e.data.params.token)):t.$message({showClose:!0,type:"error",message:"登录失败"})})},navOnSelect:function(t){this.$router.push({path:t})},navOnSelect2:function(t){this.$router.push({path:t})}}},c={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"layout"},[s("Layout",[s("Header",[s("Menu",{staticStyle:{display:"flex","justify-content":"space-between","align-items":"center"},attrs:{mode:"horizontal",theme:"dark"},on:{"on-select":t.navOnSelect2}},[s("div",{staticStyle:{display:"flex","justify-content":"start","align-items":"center"}},[s("img",{attrs:{src:a("7Otq"),width:"40px",alt:""}}),t._v(" "),s("span",{staticStyle:{"font-size":"13px","font-weight":"bold","margin-left":"20px",color:"#fff"}},[t._v("椰子校园管理系统（"+t._s(t.adminName)+"）")])]),t._v(" "),"学校负责人登陆"==t.type?s("div",{staticStyle:{display:"flex","justify-content":"start","align-items":"center"}},[s("MenuItem",{attrs:{name:"/senderList"}},[s("Icon",{attrs:{type:"md-bicycle"}}),t._v(" "),s("Badge",{attrs:{count:1e3,"overflow-count":t.senderDai,"class-name":"demo-badge"}},[t._v("配送员审核")])],1),t._v(" "),s("MenuItem",{attrs:{name:"/ershouList"}},[s("Icon",{attrs:{type:"ios-basket"}}),t._v(" "),s("Badge",{attrs:{count:1e3,"overflow-count":t.ershouDai,"class-name":"demo-badge"}},[t._v("二手物品审核")])],1),t._v(" "),s("MenuItem",{attrs:{name:"/pinglun"}},[s("Icon",{attrs:{type:"md-ribbon"}}),t._v(" "),s("Badge",{attrs:{count:1e3,"overflow-count":t.pinglunDai,"class-name":"demo-badge"}},[t._v("用户评论")])],1)],1):t._e(),t._v(" "),"超级后台登陆"==t.type?s("div",{staticStyle:{display:"flex","justify-content":"start","align-items":"center"}},[s("MenuItem",{attrs:{name:"/jiFenOrder"}},[s("Icon",{attrs:{type:"md-copy"}}),t._v(" "),s("Badge",{attrs:{count:1e3,"overflow-count":t.sources,"class-name":"demo-badge"}},[t._v("用户积分兑换提醒")])],1)],1):t._e(),t._v(" "),s("div",{staticStyle:{display:"flex","justify-content":"start","align-items":"center"}},[s("el-button",{staticStyle:{color:"#fff"},attrs:{type:"text"},on:{click:t.tologin}},[t._v("重登")]),t._v(" "),s("el-button",{staticStyle:{color:"#ff8484","margin-left":"20px"},attrs:{type:"text"},on:{click:t.logout}},[t._v("退出")])],1)])],1),t._v(" "),s("Layout",[s("Sider",{style:{background:"#fff"},attrs:{"hide-trigger":""}},[s("Menu",{attrs:{"active-name":t.activeName,theme:"light",width:"auto","open-names":["1"]},on:{"on-select":t.navOnSelect}},[s("Submenu",{attrs:{name:"1"}},[s("template",{slot:"title"},[s("Icon",{attrs:{type:"ios-cube-outline"}}),t._v("首页\n            ")],1),t._v(" "),s("MenuItem",{attrs:{name:"/adminOverview"}},[t._v("平台总览")])],2),t._v(" "),"学校负责人登陆"==t.type?s("Submenu",{attrs:{name:"2"}},[s("template",{slot:"title"},[s("Icon",{attrs:{type:"ios-cart-outline"}}),t._v("商铺管理\n            ")],1),t._v(" "),s("MenuItem",{attrs:{name:"/typeList"}},[t._v("分类列表")]),t._v(" "),s("MenuItem",{attrs:{name:"/shopList"}},[t._v("商铺列表")])],2):t._e(),t._v(" "),"学校负责人登陆"==t.type?s("Submenu",{attrs:{name:"3"}},[s("template",{slot:"title"},[s("Icon",{attrs:{type:"ios-paper-outline"}}),t._v("订单管理\n            ")],1),t._v(" "),s("MenuItem",{attrs:{name:"/orderzs"}},[t._v("专送订单")]),t._v(" "),s("MenuItem",{attrs:{name:"/orderzq"}},[t._v("自取订单")]),t._v(" "),s("MenuItem",{attrs:{name:"/orderpt"}},[t._v("跑腿订单")])],2):t._e(),t._v(" "),s("Submenu",{attrs:{name:"4"}},[s("template",{slot:"title"},[s("Icon",{attrs:{type:"ios-pie-outline"}}),t._v("数据统计\n            ")],1),t._v(" "),s("MenuItem",{attrs:{name:"/wxuser"}},[t._v("用户列表")]),t._v(" "),"超级后台登陆"==t.type?s("MenuItem",{attrs:{name:"/rechageFind"}},[t._v("充值统计")]):t._e(),t._v(" "),"学校负责人登陆"==t.type?s("MenuItem",{attrs:{name:"/tixian"}},[t._v("提现统计")]):t._e(),t._v(" "),"学校负责人登陆"==t.type?s("MenuItem",{attrs:{name:"/shopday"}},[t._v("每日外卖统计")]):t._e()],2),t._v(" "),"超级后台登陆"==t.type?s("Submenu",{attrs:{name:"5"}},[s("template",{slot:"title"},[s("Icon",{attrs:{type:"ios-flag-outline"}}),t._v("学校管理\n            ")],1),t._v(" "),s("MenuItem",{attrs:{name:"/schoolList"}},[t._v("学校列表")])],2):t._e(),t._v(" "),"无敌后台登陆"==t.type?s("Submenu",{attrs:{name:"6"}},[s("template",{slot:"title"},[s("Icon",{attrs:{type:"ios-card-outline"}}),t._v("充值管理\n            ")],1),t._v(" "),s("MenuItem",{attrs:{name:"/rechage"}},[t._v("充值列表")])],2):t._e(),t._v(" "),"超级后台登陆"==t.type?s("Submenu",{attrs:{name:"7"}},[s("template",{slot:"title"},[s("Icon",{attrs:{type:"ios-analytics-outline"}}),t._v("积分管理\n            ")],1),t._v(" "),s("MenuItem",{attrs:{name:"/jiFenList"}},[t._v("积分商品列表")])],2):t._e(),t._v(" "),"学校负责人登陆"==t.type?s("Submenu",{attrs:{name:"8"}},[s("template",{slot:"title"},[s("Icon",{attrs:{type:"ios-hammer-outline"}}),t._v("平台管理\n            ")],1),t._v(" "),s("MenuItem",{attrs:{name:"/sliderList"}},[t._v("轮播图")]),t._v(" "),s("MenuItem",{attrs:{name:"/noticeList"}},[t._v("公告管理")]),t._v(" "),s("MenuItem",{attrs:{name:"/floorList"}},[t._v("楼栋管理")]),t._v(" "),s("MenuItem",{attrs:{name:"/settingSchool"}},[t._v("基础设置")])],2):t._e()],1)],1),t._v(" "),s("Layout",{style:{padding:"24px 24px 24px"}},[s("Content",{style:{padding:"24px",minHeight:"280px",background:"#fff"}},[s("router-view")],1)],1)],1)],1),t._v(" "),s("div",{staticClass:"flexr-center item-center padding-top-ershi padding-bottom-ershi bg-white border-top"},[t._v("椰子校园 ©2018 杭州初音科技有限公司")])],1)},staticRenderFns:[]};var d,u=a("C7Lr")(r,c,!1,function(t){a("w1Te")},null,null).exports,m=(a("UGuh"),{data:function(){return{type:sessionStorage.getItem("type"),show:!0,count:"",timer:null,userCount:0,runcount:0,runcountSuccess:0,takeoutCount:0,takeoutCountSuccess:0,amount:0,schoolMoney:0,senderMoney:0,newDialog:!1,submitData:{amount:"",openId:"",codes:"",schoolId:sessionStorage.getItem("schoolId")}}},mounted:function(){d=this,"学校负责人登陆"==sessionStorage.getItem("type")&&this.login()},methods:{getCode:function(){var t=this;this.$http.post(this.com.NODE_API+"/ops/school/getcode",{schoolId:sessionStorage.getItem("schoolId")},{headers:{token:sessionStorage.getItem("token")},emulateJSON:!0}).then(function(e){e.data.code?t.$message({showClose:!0,type:"success",message:"获取成功"}):t.$message({showClose:!0,type:"error",message:"获取失败"})}),this.timer||(this.count=60,this.show=!1,this.timer=setInterval(function(){t.count>0&&t.count<=60?t.count--:(t.show=!0,clearInterval(t.timer),t.timer=null)},1e3))},login:function(){var t=this;this.$http.post(this.com.NODE_API+"/ops/school/login",{loginName:sessionStorage.getItem("loginName"),loginPass:sessionStorage.getItem("loginPass"),type:"学校负责人登陆"==sessionStorage.getItem("type")?1:2},{emulateJSON:!0}).then(function(e){e.data.code?(t.schoolMoney=e.data.params.school.money,t.senderMoney=e.data.params.school.senderMoney,sessionStorage.setItem("token",e.data.params.token),t.$http.post(t.com.NODE_API+"/ops/admin/index",{schoolId:sessionStorage.getItem("schoolId")},{headers:{token:e.data.params.token},emulateJSON:!0}).then(function(e){e.data.code?(t.amount=e.data.params.msg.amount,t.runcount=e.data.params.msg.runcount,t.runcountSuccess=e.data.params.msg.runcountSuccess,t.takeoutCount=e.data.params.msg.takeoutCount,t.takeoutCountSuccess=e.data.params.msg.takeoutCountSuccess,t.userCount=e.data.params.msg.userCount):t.$message({showClose:!0,type:"error",message:"查询失败"})})):t.$message({showClose:!0,type:"error",message:"登录失败"})})},add:function(){var t=this;this.$http.post(this.com.NODE_API+"/ops/school/tx",this.submitData,{headers:{token:sessionStorage.getItem("token")},emulateJSON:!0}).then(function(e){e.data.code?(d.$message({showClose:!0,type:"success",message:"提现完成"}),t.newDialog=!1):(d.$message({showClose:!0,type:"error",message:e.data.msg}),t.newDialog=!0)})}}}),p={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("div",{staticClass:"flexr-start item-center"},[a("h2",[t._v("平台总览")]),t._v(" "),"学校负责人登陆"==t.type?a("el-button",{staticStyle:{"margin-left":"20px"},attrs:{size:"mini"},on:{click:function(e){t.newDialog=!0}}},[t._v("提现")]):t._e()],1),t._v(" "),a("div",{staticStyle:{"margin-top":"15px","border-bottom":"1px solid #e1e1e1",width:"100%"}}),t._v(" "),"学校负责人登陆"==t.type?a("div",{staticClass:"flexr-between"},[a("div",{staticClass:"flexc-start item-center"},[a("div",{staticClass:"flexr-start"},[a("div",{staticClass:"over-box"},[a("div",{staticClass:"text-center ob"},[a("span",[t._v("当日活跃度")]),t._v(" "),a("br"),t._v(" "),a("span",[t._v(t._s(t.userCount))])])]),t._v(" "),a("div",{staticClass:"over-box"},[a("div",{staticClass:"text-center ob"},[a("span",[t._v("当日交易额")]),t._v(" "),a("br"),t._v(" "),a("span",[t._v(t._s(t.amount))])])]),t._v(" "),a("div",{staticClass:"over-box"},[a("div",{staticClass:"text-center ob"},[a("span",[t._v("负责人剩余可提现总额")]),t._v(" "),a("br"),t._v(" "),a("span",[t._v(t._s(t.schoolMoney))])])]),t._v(" "),a("div",{staticClass:"over-box"},[a("div",{staticClass:"text-center ob"},[a("span",[t._v("配送员剩余可提现总额")]),t._v(" "),a("br"),t._v(" "),a("span",[t._v(t._s(t.senderMoney))])])])]),t._v(" "),a("div",{staticClass:"flexr-start"},[a("div",{staticClass:"over-box"},[a("div",{staticClass:"text-center ob"},[a("span",[t._v("当日外卖总单数")]),t._v(" "),a("br"),t._v(" "),a("span",[t._v(t._s(t.takeoutCount))])])]),t._v(" "),a("div",{staticClass:"over-box"},[a("div",{staticClass:"text-center ob"},[a("span",[t._v("当日外卖完成单数")]),t._v(" "),a("br"),t._v(" "),a("span",[t._v(t._s(t.takeoutCountSuccess))])])]),t._v(" "),a("div",{staticClass:"over-box"},[a("div",{staticClass:"text-center ob"},[a("span",[t._v("当日跑腿总单数")]),t._v(" "),a("br"),t._v(" "),a("span",[t._v(t._s(t.runcount))])])]),t._v(" "),a("div",{staticClass:"over-box"},[a("div",{staticClass:"text-center ob"},[a("span",[t._v("当日跑腿完成单数")]),t._v(" "),a("br"),t._v(" "),a("span",[t._v(t._s(t.runcountSuccess))])])])])]),t._v(" "),t._m(0)]):t._e(),t._v(" "),a("el-dialog",{attrs:{title:"验证手机号",visible:t.newDialog,width:"30%",center:""},on:{"update:visible":function(e){t.newDialog=e}}},[a("Form",{attrs:{model:t.submitData,"label-postion":"top"}},[a("FormItem",{attrs:{label:"输入金额"}},[a("Input",{attrs:{placeholder:"请输入提现金额"},model:{value:t.submitData.amount,callback:function(e){t.$set(t.submitData,"amount",e)},expression:"submitData.amount"}})],1),t._v(" "),a("FormItem",{attrs:{label:"输入openId"}},[a("Input",{attrs:{placeholder:"请输入您的openId"},model:{value:t.submitData.openId,callback:function(e){t.$set(t.submitData,"openId",e)},expression:"submitData.openId"}})],1),t._v(" "),a("div",{staticClass:"text-right"},[a("span",{directives:[{name:"show",rawName:"v-show",value:t.show,expression:"show"}],staticStyle:{color:"#3797ee"},on:{click:t.getCode}},[t._v("获取验证码")]),t._v(" "),a("span",{directives:[{name:"show",rawName:"v-show",value:!t.show,expression:"!show"}],staticClass:"count"},[t._v(t._s(t.count)+" s")])]),t._v(" "),a("FormItem",{attrs:{label:"输入验证码"}},[a("Input",{attrs:{placeholder:"请输入验证码"},model:{value:t.submitData.codes,callback:function(e){t.$set(t.submitData,"codes",e)},expression:"submitData.codes"}})],1)],1),t._v(" "),a("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(e){t.newDialog=!1}}},[t._v("取 消")]),t._v(" "),a("el-button",{attrs:{type:"primary"},on:{click:function(e){t.add()}}},[t._v("确 定")])],1)],1)],1)},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("div",[e("div",{staticClass:"border margin-top-ershi text-center",staticStyle:{width:"200px",height:"250px"}},[e("div",{staticClass:"margin-top-ershi",staticStyle:{"font-size":"16px"}},[this._v("手机查看数据")]),this._v(" "),e("img",{staticClass:"margin-top-shi",attrs:{src:a("U2o2"),width:"160px",alt:""}})]),this._v(" "),e("div",{staticClass:"border margin-top-ershi text-center",staticStyle:{width:"200px",height:"250px"}},[e("div",{staticClass:"margin-top-ershi",staticStyle:{"font-size":"16px"}},[this._v("椰子校园合伙人")]),this._v(" "),e("img",{staticClass:"margin-top-shi",attrs:{src:a("vAD1"),width:"160px",alt:""}})])])}]};var h=a("C7Lr")(m,p,!1,function(t){a("tHF7")},null,null).exports,g={data:function(){return{loading:!1,fileList:[],wxamsg:{appId:sessionStorage.getItem("surperId"),name:"",phone:"",loginName:"",loginPassWord:"",wxAppId:"",wxSecret:"",mchId:"",wxPayId:"",rate:"",sendMaxDistance:"",sendPerOut:"",sendPerMoney:"",topDown:"",enableTakeout:!1,certPath:""}}},mounted:function(){this.$route.query.id?this.wxamsg={enableTakeout:1==this.$route.query.enableTakeout,appId:sessionStorage.getItem("surperId"),id:this.$route.query.id,name:this.$route.query.name,phone:this.$route.query.phone,loginName:this.$route.query.loginName,loginPassWord:this.$route.query.loginPassWord,wxAppId:this.$route.query.wxAppId,wxSecret:this.$route.query.wxSecret,mchId:this.$route.query.mchId,wxPayId:this.$route.query.wxPayId,rate:this.$route.query.rate,sendMaxDistance:this.$route.query.sendMaxDistance,sendPerOut:this.$route.query.sendPerOut,sendPerMoney:this.$route.query.sendPerMoney,topDown:this.$route.query.topDown,certPath:this.$route.query.certPath}:this.wxamsg={appId:sessionStorage.getItem("surperId"),name:"",phone:"",loginName:"",loginPassWord:"",wxAppId:"",wxSecret:"",mchId:"",wxPayId:"",rate:"",sendMaxDistance:"",sendPerOut:"",sendPerMoney:"",topDown:"",enableTakeout:!1,certPath:""}},methods:{navTo:function(t){this.$router.go(-1)},handledie:function(t,e){this.$message.warning("上传失败")},handleSuccess:function(t){this.wxamsg.certPath=t,console.log(this.wxamsg.certPath)},handleRemove:function(t,e){console.log(t,e)},handlePreview:function(t){console.log(t)},handleExceed:function(t,e){this.$message.warning("限制上传 1 个文件")},beforeRemove:function(t,e){return this.$confirm("确定移除 "+t.name+"？")},submitData:function(){var t=this,e=this;this.loading=!0,this.wxamsg.enableTakeout=1==this.wxamsg.enableTakeout?"1":"0",this.$route.query.id?(this.$route.query.loginPassWord==this.wxamsg.loginPassWord&&delete this.wxamsg.loginPassWord,this.$http.post(this.com.NODE_API+"/ops/school/update",this.wxamsg,{headers:{token:sessionStorage.getItem("token")},emulateJSON:!0}).then(function(a){a.data.code?(e.$message({showClose:!0,type:"success",message:"更新成功"}),t.$router.go(-1)):e.$message({showClose:!0,type:"error",message:a.data.msg}),e.loading=!1})):this.$http.post(this.com.NODE_API+"/ops/school/add",this.wxamsg,{headers:{token:sessionStorage.getItem("token")},emulateJSON:!0}).then(function(a){a.data.code?(e.$message({showClose:!0,type:"success",message:"添加成功"}),t.$router.go(-1)):e.$message({showClose:!0,type:"error",message:a.data.msg}),e.loading=!1})}}},v={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("div",{staticClass:"flexr-start item-center"},[a("el-button",{attrs:{size:"mini",icon:"el-icon-arrow-left",circle:""},on:{click:function(e){t.navTo("/schoolList")}}}),t._v(" "),a("h2",{staticClass:"margin-left-shi"},[t._v("保存学校")])],1),t._v(" "),a("div",{staticStyle:{"margin-top":"15px","border-bottom":"1px solid #e1e1e1",width:"100%"}}),t._v(" "),a("Form",{staticStyle:{"margin-top":"20px",width:"800px"},attrs:{model:t.wxamsg,"label-width":200}},[a("FormItem",{attrs:{label:"学校名称"}},[a("Input",{attrs:{placeholder:"请输入学校名称"},model:{value:t.wxamsg.name,callback:function(e){t.$set(t.wxamsg,"name",e)},expression:"wxamsg.name"}})],1),t._v(" "),a("FormItem",{attrs:{label:"负责人电话"}},[a("Input",{attrs:{placeholder:"请输入负责人电话"},model:{value:t.wxamsg.phone,callback:function(e){t.$set(t.wxamsg,"phone",e)},expression:"wxamsg.phone"}})],1),t._v(" "),a("FormItem",{attrs:{label:"该校登录账号"}},[a("Input",{attrs:{placeholder:"请输入后台登录账号"},model:{value:t.wxamsg.loginName,callback:function(e){t.$set(t.wxamsg,"loginName",e)},expression:"wxamsg.loginName"}})],1),t._v(" "),a("FormItem",{attrs:{label:"该校登录密码"}},[a("Input",{attrs:{placeholder:"请输入后台登录密码"},model:{value:t.wxamsg.loginPassWord,callback:function(e){t.$set(t.wxamsg,"loginPassWord",e)},expression:"wxamsg.loginPassWord"}})],1),t._v(" "),a("FormItem",{attrs:{label:"小程序Appid"}},[a("Input",{attrs:{placeholder:"请输入小程序Appid"},model:{value:t.wxamsg.wxAppId,callback:function(e){t.$set(t.wxamsg,"wxAppId",e)},expression:"wxamsg.wxAppId"}})],1),t._v(" "),a("FormItem",{attrs:{label:"小程序密钥"}},[a("Input",{attrs:{placeholder:"请输入小程序密钥"},model:{value:t.wxamsg.wxSecret,callback:function(e){t.$set(t.wxamsg,"wxSecret",e)},expression:"wxamsg.wxSecret"}})],1),t._v(" "),a("FormItem",{attrs:{label:"微信支付商户号"}},[a("Input",{attrs:{placeholder:"请输入商户号"},model:{value:t.wxamsg.mchId,callback:function(e){t.$set(t.wxamsg,"mchId",e)},expression:"wxamsg.mchId"}})],1),t._v(" "),a("FormItem",{attrs:{label:"微信支付密钥"}},[a("Input",{attrs:{placeholder:"请输入支付密钥"},model:{value:t.wxamsg.wxPayId,callback:function(e){t.$set(t.wxamsg,"wxPayId",e)},expression:"wxamsg.wxPayId"}})],1),t._v(" "),a("FormItem",{attrs:{label:"对学校抽成"}},[a("Input",{attrs:{placeholder:"请输入抽成（最低0.006）"},model:{value:t.wxamsg.rate,callback:function(e){t.$set(t.wxamsg,"rate",e)},expression:"wxamsg.rate"}})],1),t._v(" "),a("div",{staticClass:"flexr-start"},[a("FormItem",{attrs:{label:"基础配送距离"}},[a("Input",{attrs:{placeholder:"基础配送距离(米)"},model:{value:t.wxamsg.sendMaxDistance,callback:function(e){t.$set(t.wxamsg,"sendMaxDistance",e)},expression:"wxamsg.sendMaxDistance"}})],1),t._v(" "),a("FormItem",{attrs:{label:"超出多少米"}},[a("Input",{attrs:{placeholder:"超出基础配送距离多少（米）"},model:{value:t.wxamsg.sendPerOut,callback:function(e){t.$set(t.wxamsg,"sendPerOut",e)},expression:"wxamsg.sendPerOut"}})],1),t._v(" "),a("FormItem",{attrs:{label:"增加多少额外配送费"}},[a("Input",{attrs:{placeholder:"增加多少配送费用（元）"},model:{value:t.wxamsg.sendPerMoney,callback:function(e){t.$set(t.wxamsg,"sendPerMoney",e)},expression:"wxamsg.sendPerMoney"}})],1)],1),t._v(" "),a("FormItem",{attrs:{label:"配送员选楼下送达返还用户金额"}},[a("Input",{attrs:{placeholder:"返还至用户钱包余额"},model:{value:t.wxamsg.topDown,callback:function(e){t.$set(t.wxamsg,"topDown",e)},expression:"wxamsg.topDown"}})],1),t._v(" "),a("FormItem",{attrs:{label:"是否开启外卖功能"}},[a("el-switch",{model:{value:t.wxamsg.enableTakeout,callback:function(e){t.$set(t.wxamsg,"enableTakeout",e)},expression:"wxamsg.enableTakeout"}})],1),t._v(" "),a("el-upload",{staticClass:"upload-demo",attrs:{action:"https://www.chuyinkeji.cn/cert/up",accept:".p12","on-error":t.handledie,"on-success":t.handleSuccess,"on-preview":t.handlePreview,"on-remove":t.handleRemove,"before-remove":t.beforeRemove,limit:1,"on-exceed":t.handleExceed,"file-list":t.fileList}},[a("el-button",{attrs:{size:"small",type:"primary"}},[t._v("点击上传")]),t._v(" "),a("div",{staticClass:"el-upload__tip",attrs:{slot:"tip"},slot:"tip"},[t._v("上传微信证书.p12文件")])],1),t._v(" "),a("FormItem",[a("Button",{attrs:{type:"primary",loading:t.loading},on:{click:function(e){t.submitData()}}},[t._v("保存提交")])],1)],1)],1)},staticRenderFns:[]};var f=a("C7Lr")(g,v,!1,function(t){a("ArZo")},null,null).exports,b={data:function(){return{loading:!1,wxamsg:{name:"",lat:"",lng:"",ableTop:0}}},mounted:function(){this.$route.query.id?this.wxamsg={id:this.$route.query.id,name:this.$route.query.name,lat:this.$route.query.lat,lng:this.$route.query.lng,ableTop:0}:this.wxamsg={name:"",lat:"",lng:"",ableTop:0}},methods:{navTo:function(t){this.$router.go(-1)},submitData:function(){var t=this,e=this;this.loading=!0,this.$route.query.id?this.$http.post(this.com.NODE_API+"/ops/floor/update",this.wxamsg,{headers:{token:sessionStorage.getItem("token")},emulateJSON:!0}).then(function(a){a.data.code?(e.$message({showClose:!0,type:"success",message:"更新成功"}),t.$router.go(-1)):e.$message({showClose:!0,type:"error",message:a.data.msg}),e.loading=!1}):this.$http.post(this.com.NODE_API+"/ops/floor/add",this.wxamsg,{headers:{token:sessionStorage.getItem("token")},emulateJSON:!0}).then(function(a){a.data.code?(e.$message({showClose:!0,type:"success",message:"添加成功"}),t.$router.go(-1)):e.$message({showClose:!0,type:"error",message:a.data.msg}),e.loading=!1})}}},w={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("div",{staticClass:"flexr-start item-center"},[a("el-button",{attrs:{size:"mini",icon:"el-icon-arrow-left",circle:""},on:{click:function(e){t.navTo("/floorlList")}}}),t._v(" "),a("h2",{staticClass:"margin-left-shi"},[t._v("保存楼栋")])],1),t._v(" "),a("div",{staticStyle:{"margin-top":"15px","border-bottom":"1px solid #e1e1e1",width:"100%"}}),t._v(" "),a("div",{staticClass:"flexc-start item-center"},[a("iframe",{staticStyle:{height:"600px",width:"750px"},attrs:{src:"http://api.map.baidu.com/lbsapi/getpoint/index.html",frameborder:"0"}}),t._v(" "),a("div",{staticStyle:{"padding-top":"20px",width:"670px"}},[a("Form",{attrs:{model:t.wxamsg,"label-width":80}},[a("FormItem",{attrs:{label:"楼栋名称"}},[a("Input",{staticStyle:{width:"400px"},attrs:{placeholder:"请输入楼栋名称"},model:{value:t.wxamsg.name,callback:function(e){t.$set(t.wxamsg,"name",e)},expression:"wxamsg.name"}})],1),t._v(" "),a("FormItem",{attrs:{label:"楼栋经度"}},[a("Input",{staticStyle:{width:"400px"},attrs:{placeholder:"将顶部地图复制的经度填入（左边部分）"},model:{value:t.wxamsg.lng,callback:function(e){t.$set(t.wxamsg,"lng",e)},expression:"wxamsg.lng"}})],1),t._v(" "),a("FormItem",{attrs:{label:"楼栋纬度"}},[a("Input",{staticStyle:{width:"400px"},attrs:{placeholder:"将顶部地图复制的纬度填入（右边部分）"},model:{value:t.wxamsg.lat,callback:function(e){t.$set(t.wxamsg,"lat",e)},expression:"wxamsg.lat"}})],1),t._v(" "),a("FormItem",[a("Button",{attrs:{type:"primary",loading:t.loading},on:{click:function(e){t.submitData()}}},[t._v("保存提交")])],1)],1)],1)])])},staticRenderFns:[]};var _,y=a("C7Lr")(b,w,!1,function(t){a("MNk+")},null,null).exports,x={data:function(){return{data:[],total:0,searchList:[{key:"wxAppId",value:"",label:"输入小程序ID"},{key:"name",value:"",label:"输入学校名称"}],getDataListquery:{page:1,size:1e4,orderBy:"sort desc",queryType:"school",appId:sessionStorage.getItem("surperId")}}},mounted:function(){_=this,this.getDataList()},methods:{getDataList:function(){this.$http.post(this.com.NODE_API+"/ops/school/find",this.getDataListquery,{emulateJSON:!0}).then(function(t){if(t.data.code){for(var e in t.data.params.list)t.data.params.list[e].createTime=t.data.params.list[e].createTime.substring(0,10);_.data=t.data.params.list,_.total=t.data.params.list.length}else _.$message({showClose:!0,type:"error",message:t.data.msg})})},navTo:function(t){this.$router.push({path:t})},search:function(){""!=this.searchList[0].value&&""!=this.searchList[1].value?this.getDataListquery={page:1,size:1e4,orderBy:"sort desc",queryType:"school",wxAppId:this.searchList[0].value,name:this.searchList[1].value,appId:sessionStorage.getItem("surperId")}:""!=this.searchList[0].value&&""==this.searchList[1].value?this.getDataListquery={page:1,size:1e4,orderBy:"sort desc",queryType:"school",wxAppId:this.searchList[0].value,appId:sessionStorage.getItem("surperId")}:""==this.searchList[0].value&&""!=this.searchList[1].value&&(this.getDataListquery={page:1,size:1e4,orderBy:"sort desc",queryType:"school",name:this.searchList[1].value,appId:sessionStorage.getItem("surperId")}),this.$http.post(this.com.NODE_API+"/ops/school/find",this.getDataListquery,{emulateJSON:!0}).then(function(t){t.data.code?_.data=t.data.params.list:_.$message({showClose:!0,type:"error",message:t.data.msg})})},clear:function(){for(var t in this.getDataListquery={page:1,size:1e4,orderBy:"sort desc",queryType:"school",appId:sessionStorage.getItem("surperId")},this.searchList)this.searchList[t].value="";this.getDataList()},update:function(t,e){var a=this;if(0==t)this.$confirm("此操作将永久删除该数据, 是否继续? 若误删请联系开发人员","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){a.$http.post(a.com.NODE_API+"/ops/school/update",{id:e,isDelete:1},{headers:{token:sessionStorage.getItem("token")},emulateJSON:!0}).then(function(t){t.data.code?(_.$message({showClose:!0,type:"success",message:"删除成功"}),a.getDataList()):_.$message({showClose:!0,type:"error",message:t.data.msg})})});else if(1==t){for(var s="",o=0;o<this.data.length;o++)this.data[o].id==e&&(s=this.data[o]);this.$router.push({path:"/addSchool",query:s})}},changePage:function(t){this.getDataListquery.page=t,this.getDataList()},changeSize:function(t){this.getDataListquery.size=t,this.getDataList()}}},I={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("h2",[t._v("学校列表")]),t._v(" "),a("div",{staticStyle:{"margin-top":"15px","border-bottom":"1px solid #e1e1e1",width:"100%"}}),t._v(" "),a("div",{staticClass:"search-bar"},[t._l(t.searchList,function(e,s){return a("Input",{key:s,staticClass:"il in",attrs:{placeholder:e.label},model:{value:e.value,callback:function(a){t.$set(e,"value",a)},expression:"item.value"}})}),t._v(" "),a("Button",{staticClass:"il",on:{click:function(e){t.clear()}}},[t._v("清空")]),t._v(" "),a("Button",{staticClass:"il",staticStyle:{width:"100px"},attrs:{type:"primary"},on:{click:function(e){t.search()}}},[t._v("搜索")])],2),t._v(" "),a("div",{staticClass:"flexr-between"},[a("ButtonGroup",[a("Button",{on:{click:function(e){t.navTo("/addSchool")}}},[t._v("新增学校")])],1)],1),t._v(" "),a("el-table",{staticStyle:{width:"100%","margin-top":"15px"},attrs:{data:t.data}},[a("el-table-column",{attrs:{fixed:"",prop:"id",label:"ID"}}),t._v(" "),a("el-table-column",{attrs:{fixed:"",prop:"name",label:"学校名称"}}),t._v(" "),a("el-table-column",{attrs:{fixed:"",prop:"phone",label:"负责人电话"}}),t._v(" "),a("el-table-column",{attrs:{fixed:"",prop:"loginName",label:"登录账号"}}),t._v(" "),a("el-table-column",{attrs:{fixed:"",prop:"wxAppId",label:"小程序Id"}}),t._v(" "),a("el-table-column",{attrs:{fixed:"",prop:"rate",label:"对该校抽成"}}),t._v(" "),a("el-table-column",{attrs:{label:"外卖功能"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-tag",{attrs:{type:1==e.row.enableTakeout?"success":"danger","disable-transitions":""}},[t._v(t._s(1==e.row.enableTakeout?"开启":"关闭"))])]}}])}),t._v(" "),a("el-table-column",{attrs:{fixed:"",prop:"createTime",label:"创建时间"}}),t._v(" "),a("el-table-column",{attrs:{label:"操作"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-dropdown",{attrs:{trigger:"click"}},[a("el-button",{staticClass:"el-dropdown-link",attrs:{type:"text"}},[t._v("\n            操作\n            "),a("i",{staticClass:"el-icon-arrow-down el-icon--right"})]),t._v(" "),a("el-dropdown-menu",{attrs:{slot:"dropdown"},slot:"dropdown"},[a("el-dropdown-item",[a("div",{staticStyle:{width:"100px"},on:{click:function(a){t.update(0,e.row.id)}}},[t._v("删除")])]),t._v(" "),a("el-dropdown-item",[a("div",{staticStyle:{width:"100px"},on:{click:function(a){t.update(1,e.row.id)}}},[t._v("编辑")])])],1)],1)]}}])})],1),t._v(" "),a("div",{staticClass:"flexr-end",staticStyle:{"margin-top":"20px"}},[a("Page",{attrs:{total:t.total,current:t.getDataListquery.page,"page-size":t.getDataListquery.size,"show-sizer":"","show-total":""},on:{"on-change":t.changePage,"on-page-size-change":t.changeSize}})],1)],1)},staticRenderFns:[]};var D,k=a("C7Lr")(x,I,!1,function(t){a("EsWR")},null,null).exports,S={data:function(){return{type:sessionStorage.getItem("type"),passWord:"",loading:!1,submitData:{enableTakeout:!1,loginPassWord:"",sendMaxDistance:"",sendPerOut:"",sendPerMoney:"",topDown:"",id:sessionStorage.getItem("schoolId")},wxamsg:{vipTakeoutDiscountFlag:!1,vipRunDiscountFlag:!1,vipRunDiscount:1,vipTakeoutDiscount:1},getDataListquery:{page:1,size:10,orderBy:"sort desc",queryType:"school",id:sessionStorage.getItem("schoolId")}}},mounted:function(){D=this,"学校负责人登陆"==sessionStorage.getItem("type")&&this.getDataList()},methods:{getDataList:function(){var t=this;this.$http.post(this.com.NODE_API+"/ops/school/find",this.getDataListquery,{emulateJSON:!0}).then(function(e){e.data.code?(t.passWord=e.data.params.list[0].loginPassWord,t.submitData.loginPassWord=e.data.params.list[0].loginPassWord,t.submitData.enableTakeout=1==e.data.params.list[0].enableTakeout,t.submitData.sendMaxDistance=e.data.params.list[0].sendMaxDistance,t.submitData.sendPerOut=e.data.params.list[0].sendPerOut,t.submitData.sendPerMoney=e.data.params.list[0].sendPerMoney,t.submitData.topDown=e.data.params.list[0].topDown):D.$message({showClose:!0,type:"error",message:e.data.msg})})},add:function(){var t=this,e=this;this.loading=!0,this.submitData.enableTakeout=1==this.submitData.enableTakeout?"1":"0",this.passWord==this.submitData.loginPassWord&&delete this.submitData.loginPassWord,this.$http.post(this.com.NODE_API+"/ops/school/update",this.submitData,{headers:{token:sessionStorage.getItem("token")},emulateJSON:!0}).then(function(a){a.data.code?(e.$message({showClose:!0,type:"success",message:"更新成功"}),t.$router.push({path:"/settingAllBack"})):e.$message({showClose:!0,type:"error",message:a.data.msg}),e.loading=!1})}}},L={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("h2",{staticClass:"margin-left-shi"},[t._v("基础设置")]),t._v(" "),a("div",{staticStyle:{"margin-top":"15px","border-bottom":"1px solid #e1e1e1",width:"100%"}}),t._v(" "),"学校负责人登陆"==t.type?a("Form",{staticClass:"margin-top-ershi",attrs:{model:t.submitData,"label-postion":"top"}},[a("FormItem",{attrs:{label:"登录密码"}},[a("Input",{attrs:{placeholder:"请输入修改后的密码"},model:{value:t.submitData.loginPassWord,callback:function(e){t.$set(t.submitData,"loginPassWord",e)},expression:"submitData.loginPassWord"}})],1),t._v(" "),a("a",{attrs:{href:"https://map.baidu.com/",target:"_blank"}},[t._v("前往百度地图测距量出楼栋与店铺的距离")]),t._v(" "),a("div",{staticClass:"flexr-start"},[a("FormItem",{attrs:{label:"基础配送距离(米)"}},[a("Input",{attrs:{placeholder:"基础配送距离(米)"},model:{value:t.submitData.sendMaxDistance,callback:function(e){t.$set(t.submitData,"sendMaxDistance",e)},expression:"submitData.sendMaxDistance"}})],1),t._v(" "),a("FormItem",{staticClass:"margin-left-ershi",attrs:{label:"每超出多少米(米)"}},[a("Input",{staticStyle:{width:"200px"},attrs:{placeholder:"每超出基础配送距离多少（米）"},model:{value:t.submitData.sendPerOut,callback:function(e){t.$set(t.submitData,"sendPerOut",e)},expression:"submitData.sendPerOut"}})],1),t._v(" "),a("FormItem",{staticClass:"margin-left-ershi",attrs:{label:"增加多少额外配送费(元)"}},[a("Input",{attrs:{placeholder:"增加多少配送费用（元）"},model:{value:t.submitData.sendPerMoney,callback:function(e){t.$set(t.submitData,"sendPerMoney",e)},expression:"submitData.sendPerMoney"}})],1)],1),t._v(" "),a("FormItem",{attrs:{label:"配送员外卖订单选楼下送达返还用户金额"}},[a("Input",{attrs:{placeholder:"返还至用户钱包余额"},model:{value:t.submitData.topDown,callback:function(e){t.$set(t.submitData,"topDown",e)},expression:"submitData.topDown"}})],1),t._v(" "),a("FormItem",{attrs:{label:"是否开启外卖功能"}},[a("el-switch",{model:{value:t.submitData.enableTakeout,callback:function(e){t.$set(t.submitData,"enableTakeout",e)},expression:"submitData.enableTakeout"}})],1),t._v(" "),a("FormItem",[a("Button",{attrs:{type:"primary",loading:t.loading},on:{click:function(e){t.add()}}},[t._v("保存提交")])],1)],1):t._e(),t._v(" "),"超级后台登陆"==t.type?a("Form",{staticClass:"margin-top-ershi",attrs:{model:t.submitData,"label-postion":"top"}},[a("FormItem",{attrs:{label:"登录密码"}},[a("Input",{attrs:{placeholder:"请输入修改后的密码"},model:{value:t.submitData.loginPassWord,callback:function(e){t.$set(t.submitData,"loginPassWord",e)},expression:"submitData.loginPassWord"}})],1),t._v(" "),a("div",{staticClass:"flexr-start"},[a("FormItem",{attrs:{label:"外卖余额支付折扣"}},[a("el-switch",{model:{value:t.wxamsg.vipTakeoutDiscountFlag,callback:function(e){t.$set(t.wxamsg,"vipTakeoutDiscountFlag",e)},expression:"wxamsg.vipTakeoutDiscountFlag"}})],1),t._v(" "),a("FormItem",{attrs:{label:"外卖折扣力度"}},[a("Input",{attrs:{placeholder:"输入外卖折扣力度"},model:{value:t.wxamsg.vipTakeoutDiscount,callback:function(e){t.$set(t.wxamsg,"vipTakeoutDiscount",e)},expression:"wxamsg.vipTakeoutDiscount"}})],1),t._v(" "),a("FormItem",{staticClass:"margin-left-wushi",attrs:{label:"跑腿余额支付折扣"}},[a("el-switch",{model:{value:t.wxamsg.vipRunDiscountFlag,callback:function(e){t.$set(t.wxamsg,"vipRunDiscountFlag",e)},expression:"wxamsg.vipRunDiscountFlag"}})],1),t._v(" "),a("FormItem",{attrs:{label:"跑腿折扣力度"}},[a("Input",{attrs:{placeholder:"输入跑腿折扣力度"},model:{value:t.wxamsg.vipRunDiscount,callback:function(e){t.$set(t.wxamsg,"vipRunDiscount",e)},expression:"wxamsg.vipRunDiscount"}})],1)],1),t._v(" "),a("FormItem",[a("Button",{attrs:{type:"primary",loading:t.loading},on:{click:function(e){t.add2()}}},[t._v("保存提交")])],1)],1):t._e()],1)},staticRenderFns:[]};var $,C=a("C7Lr")(S,L,!1,function(t){a("Lkma")},null,null).exports,P={data:function(){return{data:[],total:0,searchList:[{key:"name",value:"",label:"输入楼栋名称"}],getDataListquery:{page:1,size:10}}},mounted:function(){$=this,this.getDataList()},methods:{getDataList:function(){this.$http.post(this.com.NODE_API+"/ops/floor/find",this.getDataListquery,{headers:{token:sessionStorage.getItem("token")},emulateJSON:!0}).then(function(t){t.data.code?($.data=t.data.params.list,$.total=t.data.params.total[0].total):$.$message({showClose:!0,type:"error",message:t.data.msg})})},navTo:function(t){this.$router.push({path:t})},search:function(){""!=this.searchList[0].value&&(this.getDataListquery={page:1,size:10,name:this.searchList[0].value}),this.$http.post(this.com.NODE_API+"/ops/floor/find",this.getDataListquery,{headers:{token:sessionStorage.getItem("token")},emulateJSON:!0}).then(function(t){t.data.code?($.data=t.data.params.list,$.total=t.data.params.total[0].total):$.$message({showClose:!0,type:"error",message:t.data.msg})})},clear:function(){for(var t in this.getDataListquery={page:1,size:10},this.searchList)this.searchList[t].value="";this.getDataList()},update:function(t,e){var a=this;if(0==t)this.$confirm("此操作将永久删除该数据, 是否继续? 若误删请联系开发人员","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){a.$http.post(a.com.NODE_API+"/ops/floor/update",{id:e,isDelete:1},{headers:{token:sessionStorage.getItem("token")},emulateJSON:!0}).then(function(t){t.data.code?($.$message({showClose:!0,type:"success",message:"删除成功"}),a.getDataList()):$.$message({showClose:!0,type:"error",message:t.data.msg})})});else if(1==t){for(var s="",o=0;o<this.data.length;o++)this.data[o].id==e&&(s=this.data[o]);this.$router.push({path:"/addFloor",query:s})}},changePage:function(t){this.getDataListquery.page=t,this.getDataList()},changeSize:function(t){this.getDataListquery.size=t,this.getDataList()}}},N={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("h2",[t._v("楼栋列表")]),t._v(" "),a("div",{staticStyle:{"margin-top":"15px","border-bottom":"1px solid #e1e1e1",width:"100%"}}),t._v(" "),a("div",{staticClass:"search-bar"},[t._l(t.searchList,function(e,s){return a("Input",{key:s,staticClass:"il in",attrs:{placeholder:e.label},model:{value:e.value,callback:function(a){t.$set(e,"value",a)},expression:"item.value"}})}),t._v(" "),a("Button",{staticClass:"il",on:{click:function(e){t.clear()}}},[t._v("清空")]),t._v(" "),a("Button",{staticClass:"il",staticStyle:{width:"100px"},attrs:{type:"primary"},on:{click:function(e){t.search()}}},[t._v("搜索")])],2),t._v(" "),a("div",{staticClass:"flexr-between"},[a("ButtonGroup",[a("Button",{on:{click:function(e){t.navTo("/addFloor")}}},[t._v("新增楼栋")])],1)],1),t._v(" "),a("el-table",{staticStyle:{width:"100%","margin-top":"15px"},attrs:{data:t.data}},[a("el-table-column",{attrs:{fixed:"",prop:"id",label:"ID",width:"120"}}),t._v(" "),a("el-table-column",{attrs:{fixed:"",prop:"name",label:"楼栋名称"}}),t._v(" "),a("el-table-column",{attrs:{fixed:"",prop:"lng",label:"楼栋经度"}}),t._v(" "),a("el-table-column",{attrs:{fixed:"",prop:"lat",label:"楼栋纬度"}}),t._v(" "),a("el-table-column",{attrs:{label:"操作"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-dropdown",{attrs:{trigger:"click"}},[a("el-button",{staticClass:"el-dropdown-link",attrs:{type:"text"}},[t._v("\n            操作\n            "),a("i",{staticClass:"el-icon-arrow-down el-icon--right"})]),t._v(" "),a("el-dropdown-menu",{attrs:{slot:"dropdown"},slot:"dropdown"},[a("el-dropdown-item",[a("div",{staticStyle:{width:"100px"},on:{click:function(a){t.update(0,e.row.id)}}},[t._v("删除")])]),t._v(" "),a("el-dropdown-item",[a("div",{staticStyle:{width:"100px"},on:{click:function(a){t.update(1,e.row.id)}}},[t._v("编辑")])])],1)],1)]}}])})],1),t._v(" "),a("div",{staticClass:"flexr-end",staticStyle:{"margin-top":"20px"}},[a("Page",{attrs:{total:t.total,current:t.getDataListquery.page,"page-size":t.getDataListquery.size,"show-sizer":"","show-total":""},on:{"on-change":t.changePage,"on-page-size-change":t.changeSize}})],1)],1)},staticRenderFns:[]};var z=a("C7Lr")(P,N,!1,function(t){a("xFra")},null,null).exports,q={data:function(){return{loading:!1,type:"学校负责人登陆",data:{adminName:"",adminPwd:""}}},methods:{submitForm:function(){var t=this;""==this.data.adminName?this.$message({showClose:!0,type:"error",message:"请输入账号"}):""==this.data.adminPwd?this.$message({showClose:!0,type:"error",message:"请输入密码"}):"学校负责人登陆"==this.type?(this.loading=!0,this.$http.post(this.com.NODE_API+"/ops/school/login",{loginName:this.data.adminName,loginPass:this.data.adminPwd,type:1},{emulateJSON:!0}).then(function(e){t.loading=!1,e.data.code?(t.$message({showClose:!0,type:"success",message:"登录成功"}),sessionStorage.setItem("token",e.data.params.token),sessionStorage.setItem("schoolId",e.data.params.school.id),sessionStorage.setItem("schoolName",e.data.params.school.name),sessionStorage.setItem("loginName",t.data.adminName),sessionStorage.setItem("loginPass",t.data.adminPwd),sessionStorage.setItem("type","学校负责人登陆"),t.$router.push({path:"/adminOverview"})):t.$message({showClose:!0,type:"error",message:"登录失败"})})):(this.loading=!0,this.$http.post(this.com.NODE_API+"/ops/school/login",{loginName:this.data.adminName,loginPass:this.data.adminPwd,type:2},{emulateJSON:!0}).then(function(e){t.loading=!1,e.data.code?(t.$message({showClose:!0,type:"success",message:"登录成功"}),sessionStorage.setItem("surperId",e.data.params.admin.id),sessionStorage.setItem("surperName",t.data.adminName),sessionStorage.setItem("addSchoolList",e.data.params.admin.maxSchoolCount),sessionStorage.setItem("loginName",t.data.adminName),sessionStorage.setItem("loginPass",t.data.adminPwd),sessionStorage.setItem("token",e.data.params.token),sessionStorage.setItem("type","超级后台登陆"),t.$router.push({path:"/adminOverview"})):t.$message({showClose:!0,type:"error",message:"登录失败"})}))}}},F={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticStyle:{height:"none",width:"100%"}},[a("div",{staticClass:"login-panel"},[t._m(0),t._v(" "),a("el-form",{ref:"ruleForm",staticClass:"demo-ruleForm",staticStyle:{"margin-top":"20px"},attrs:{model:t.data,"status-icon":"","label-position":"top"}},[a("el-form-item",{attrs:{label:"管理员账号",prop:"age"}},[a("el-input",{attrs:{placeholder:"输入管理员账号"},model:{value:t.data.adminName,callback:function(e){t.$set(t.data,"adminName",t._n(e))},expression:"data.adminName"}})],1),t._v(" "),a("el-form-item",{attrs:{label:"管理员密码",prop:"checkPass"}},[a("el-input",{attrs:{type:"password",placeholder:"输入管理员密码",autocomplete:"off"},model:{value:t.data.adminPwd,callback:function(e){t.$set(t.data,"adminPwd",e)},expression:"data.adminPwd"}})],1),t._v(" "),a("RadioGroup",{model:{value:t.type,callback:function(e){t.type=e},expression:"type"}},[a("Radio",{attrs:{label:"学校负责人登陆"}}),t._v(" "),a("Radio",{attrs:{label:"超级后台登陆"}})],1),t._v(" "),a("el-form-item",[a("el-button",{staticStyle:{width:"100%","margin-top":"20px"},attrs:{type:"primary",loading:t.loading},on:{click:function(e){t.submitForm()}}},[t._v("登录")])],1)],1)],1)])},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"flexr-center item-center"},[e("img",{attrs:{src:a("7Otq"),width:"40px",height:"40px",alt:""}}),this._v(" "),e("div",{staticStyle:{"margin-left":"5px","font-size":"16px"}},[this._v("椰子校园后台管理系统")])])}]};var O,T,A=a("C7Lr")(q,F,!1,function(t){a("OATa")},null,null).exports,E={data:function(){return{data:[],total:0,searchList:[{key:"nickName",value:"",label:"输入用户昵称"},{key:"phone",value:"",label:"输入用户电话"}],getDataListquery:{page:1,size:10}}},mounted:function(){O=this,this.getDataList()},methods:{getDataList:function(){sessionStorage.getItem("schoolId")?this.getDataListquery.schoolId=sessionStorage.getItem("schoolId"):sessionStorage.getItem("surperId")&&(this.getDataListquery.appId=sessionStorage.getItem("surperId")),this.$http.post(this.com.NODE_API+"/ops/user/find",this.getDataListquery,{headers:{token:sessionStorage.getItem("token")},emulateJSON:!0}).then(function(t){if(t.data.code){for(var e=0;e<t.data.params.list.length;e++)t.data.params.list[e].nickName=decodeURI(t.data.params.list[e].nickName);O.data=t.data.params.list,O.total=t.data.params.total[0].total}else O.$message({showClose:!0,type:"error",message:t.data.msg})})},search:function(){""!=this.searchList[0].value&&""!=this.searchList[1].value?this.getDataListquery={page:1,size:10,nickName:this.searchList[0].value,phone:this.searchList[1].value}:""!=this.searchList[0].value&&""==this.searchList[1].value?this.getDataListquery={page:1,size:10,nickName:this.searchList[0].value}:""==this.searchList[0].value&&""!=this.searchList[1].value&&(this.getDataListquery={page:1,size:10,phone:this.searchList[1].value}),this.$http.post(this.com.NODE_API+"/ops/user/find",this.getDataListquery,{headers:{token:sessionStorage.getItem("token")},emulateJSON:!0}).then(function(t){t.data.code?(O.data=t.data.params.list,O.total=t.data.params.total[0].total):O.$message({showClose:!0,type:"error",message:t.data.msg})})},clear:function(){for(var t in this.getDataListquery={page:1,size:10},this.searchList)this.searchList[t].value="";this.getDataList()},changePage:function(t){this.getDataListquery.page=t,this.getDataList()},changeSize:function(t){this.getDataListquery.size=t,this.getDataList()}}},B={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("h2",[t._v("微信用户")]),t._v(" "),a("div",{staticStyle:{"margin-top":"15px","border-bottom":"1px solid #e1e1e1",width:"100%"}}),t._v(" "),a("div",{staticClass:"search-bar"},[t._l(t.searchList,function(e,s){return a("Input",{key:s,staticClass:"il in",attrs:{placeholder:e.label},model:{value:e.value,callback:function(a){t.$set(e,"value",a)},expression:"item.value"}})}),t._v(" "),a("Button",{staticClass:"il",on:{click:function(e){t.clear()}}},[t._v("清空")]),t._v(" "),a("Button",{staticClass:"il",staticStyle:{width:"100px"},attrs:{type:"primary"},on:{click:function(e){t.search()}}},[t._v("搜索")])],2),t._v(" "),a("el-table",{staticStyle:{width:"100%","margin-top":"15px"},attrs:{data:t.data}},[a("el-table-column",{attrs:{prop:"openId",label:"ID"}}),t._v(" "),a("el-table-column",{attrs:{label:"头像"},scopedSlots:t._u([{key:"default",fn:function(t){return[a("Avatar",{attrs:{shape:"square",src:t.row.avatarUrl}})]}}])}),t._v(" "),a("el-table-column",{attrs:{prop:"nickName",label:"昵称"}}),t._v(" "),a("el-table-column",{attrs:{prop:"phone",label:"电话"}}),t._v(" "),a("el-table-column",{attrs:{prop:"province",label:"省份"}}),t._v(" "),a("el-table-column",{attrs:{prop:"city",label:"城市"}}),t._v(" "),a("el-table-column",{attrs:{prop:"gender",label:"性别"}})],1),t._v(" "),a("div",{staticClass:"flexr-end",staticStyle:{"margin-top":"20px"}},[a("Page",{attrs:{total:t.total,current:t.getDataListquery.page,"page-size":t.getDataListquery.size,"show-sizer":"","show-total":""},on:{"on-change":t.changePage,"on-page-size-change":t.changeSize}})],1)],1)},staticRenderFns:[]},J=a("C7Lr")(E,B,!1,null,null,null).exports,M={data:function(){return{data:[],total:0,searchList:[{key:"name",value:"",label:"输入配送员姓名"},{key:"phone",value:"",label:"输入配送员电话"}],getDataListquery:{page:1,size:10,exam:"审核失败"},submitData:{id:"",floorIds:"",shopIds:"",rate:"",takeoutFlag:!1,runFlag:!1,exam:"审核通过"},floors:[],floorsTkout:[],shops:[],shopsTkout:[],indeterminate1:!1,checkAll1:!1,indeterminate2:!1,checkAll2:!1,newDialog:!1}},mounted:function(){T=this,this.getDataList()},methods:{getDataList:function(){this.$http.post(this.com.NODE_API+"/ops/sender/find",this.getDataListquery,{headers:{token:sessionStorage.getItem("token")},emulateJSON:!0}).then(function(t){t.data.code?(T.data=t.data.params.list,T.total=t.data.params.total):T.$message({showClose:!0,type:"error",message:t.data.msg})})},search:function(){""!=this.searchList[0].value&&""!=this.searchList[1].value?this.getDataListquery={page:1,size:10,exam:"审核失败",name:this.searchList[0].value,phone:this.searchList[1].value}:""!=this.searchList[0].value&&""==this.searchList[1].value?this.getDataListquery={page:1,size:10,exam:"审核失败",name:this.searchList[0].value}:""==this.searchList[0].value&&""!=this.searchList[1].value&&(this.getDataListquery={page:1,size:10,exam:"审核失败",phone:this.searchList[1].value}),this.$http.post(this.com.NODE_API+"/ops/sender/find",this.getDataListquery,{headers:{token:sessionStorage.getItem("token")},emulateJSON:!0}).then(function(t){t.data.code?(T.data=t.data.params.list,T.total=t.data.params.total):T.$message({showClose:!0,type:"error",message:t.data.msg})})},clear:function(){for(var t in this.getDataListquery={page:1,size:10,exam:"审核失败"},this.searchList)this.searchList[t].value="";this.getDataList()},update:function(t,e){var a=this;if(0==t)this.$confirm("此操作将永久删除该数据, 是否继续? 若误删请联系开发人员","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){a.$http.post(a.com.NODE_API+"/ops/sender/update",{id:e,exam:"审核失败"},{headers:{token:sessionStorage.getItem("token")},emulateJSON:!0}).then(function(t){t.data.code?(T.$message({showClose:!0,type:"success",message:"删除成功"}),a.getDataList()):T.$message({showClose:!0,type:"error",message:t.data.msg})})});else if(1==t){for(var s=0;s<this.data.length;s++)this.data[s].id==e&&(this.submitData.id=this.data[s].id,this.floorsTkout=""==this.data[s].floorIds?[]:this.data[s].floorIds.split(","),this.shopsTkout=""==this.data[s].shopIds?[]:this.data[s].shopIds.split(","),this.submitData.phone=this.data[s].phone,this.submitData.rate=this.data[s].rate,this.submitData.runFlag=1==this.data[s].runFlag,this.submitData.takeoutFlag=1==this.data[s].takeoutFlag,this.floorsTkout=this.floorsTkout.map(function(t,e,a){return t-0}),this.shopsTkout=this.shopsTkout.map(function(t,e,a){return t-0}),this.$http.post(this.com.NODE_API+"/ops/floor/find",{page:1,size:1e3,schoolId:sessionStorage.getItem("schoolId")},{headers:{token:sessionStorage.getItem("token")},emulateJSON:!0}).then(function(t){t.data.code?(T.floors=t.data.params.list,T.floorsTkout.length===t.data.params.list.length?(T.indeterminate1=!1,T.checkAll1=!0):T.floorsTkout.length>0?(T.indeterminate1=!0,T.checkAll1=!1):(T.indeterminate1=!1,T.checkAll1=!1)):T.$message({showClose:!0,type:"error",message:t.data.msg})}),this.$http.post(this.com.NODE_API+"/ops/shop/find",{page:1,size:1e3,schoolId:sessionStorage.getItem("schoolId")},{headers:{token:sessionStorage.getItem("token")},emulateJSON:!0}).then(function(t){t.data.code?(T.shops=t.data.params.list,T.shopsTkout.length===t.data.params.list.length?(T.indeterminate2=!1,T.checkAll2=!0):T.shopsTkout.length>0?(T.indeterminate2=!0,T.checkAll2=!1):(T.indeterminate2=!1,T.checkAll2=!1)):T.$message({showClose:!0,type:"error",message:t.data.msg})}));this.newDialog=!0}},add:function(){var t=this;this.submitData.runFlag=1==this.submitData.runFlag?"1":"0",this.submitData.takeoutFlag=1==this.submitData.takeoutFlag?"1":"0",this.submitData.floorIds=this.floorsTkout.toString(),this.submitData.shopIds=this.shopsTkout.toString(),this.$http.post(this.com.NODE_API+"/ops/sender/update",this.submitData,{headers:{token:sessionStorage.getItem("token")},emulateJSON:!0}).then(function(e){e.data.code?T.$message({showClose:!0,type:"success",message:"编辑完成"}):T.$message({showClose:!0,type:"error",message:e.data.msg}),t.getDataList()})},handleCheckAll1:function(){if(this.indeterminate1?this.checkAll1=!1:this.checkAll1=!this.checkAll1,this.indeterminate1=!1,this.checkAll1)for(var t=0;t<this.floors.length;t++)this.floorsTkout.push(this.floors[t].id);else this.floorsTkout=[]},checkAllGroupChange1:function(t){t.length===this.floors.length?(this.indeterminate1=!1,this.checkAll1=!0):t.length>0?(this.indeterminate1=!0,this.checkAll1=!1):(this.indeterminate1=!1,this.checkAll1=!1)},handleCheckAll2:function(){if(this.indeterminate2?this.checkAll2=!1:this.checkAll2=!this.checkAll2,this.indeterminate2=!1,this.checkAll2)for(var t=0;t<this.shops.length;t++)this.shopsTkout.push(this.shops[t].id);else this.shopsTkout=[]},checkAllGroupChange2:function(t){t.length===this.shops.length?(this.indeterminate2=!1,this.checkAll2=!0):t.length>0?(this.indeterminate2=!0,this.checkAll2=!1):(this.indeterminate2=!1,this.checkAll2=!1)},changePage:function(t){this.getDataListquery.page=t,this.getDataList()},changeSize:function(t){this.getDataListquery.size=t,this.getDataList()},filterStatus:function(t,e){return e.is_show==t}}},j={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("h2",[t._v("配送员列表")]),t._v(" "),a("div",{staticStyle:{"margin-top":"15px","border-bottom":"1px solid #e1e1e1",width:"100%"}}),t._v(" "),a("div",{staticClass:"search-bar"},[t._l(t.searchList,function(e,s){return a("Input",{key:s,staticClass:"il in",attrs:{placeholder:e.label},model:{value:e.value,callback:function(a){t.$set(e,"value",a)},expression:"item.value"}})}),t._v(" "),a("Button",{staticClass:"il",on:{click:function(e){t.clear()}}},[t._v("清空")]),t._v(" "),a("Button",{staticClass:"il",staticStyle:{width:"100px"},attrs:{type:"primary"},on:{click:function(e){t.search()}}},[t._v("搜索")])],2),t._v(" "),a("el-table",{staticStyle:{width:"100%","margin-top":"15px"},attrs:{data:t.data}},[a("el-table-column",{attrs:{prop:"id",label:"ID"}}),t._v(" "),a("el-table-column",{attrs:{prop:"name",label:"姓名"}}),t._v(" "),a("el-table-column",{attrs:{prop:"phone",label:"电话"}}),t._v(" "),a("el-table-column",{attrs:{prop:"classNo",label:"学号"}}),t._v(" "),a("el-table-column",{attrs:{prop:"rate",label:"抽成"}}),t._v(" "),a("el-table-column",{attrs:{label:"外卖模式"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-tag",{attrs:{type:1==e.row.takeoutFlag?"success":"danger","disable-transitions":""}},[t._v(t._s(1==e.row.takeoutFlag?"开启":"关闭"))])]}}])}),t._v(" "),a("el-table-column",{attrs:{label:"跑腿模式"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-tag",{attrs:{type:1==e.row.runFlag?"success":"danger","disable-transitions":""}},[t._v(t._s(1==e.row.runFlag?"开启":"关闭"))])]}}])}),t._v(" "),a("el-table-column",{attrs:{filters:[{text:"待审核",value:0},{text:"审核成功",value:1},{text:"审核失败",value:2}],"filter-method":t.filterStatus,label:"审核状态",width:"120"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-tag",{attrs:{type:"审核通过"==e.row.exam?"success":"danger","disable-transitions":""}},[t._v(t._s(e.row.exam))])]}}])}),t._v(" "),a("el-table-column",{attrs:{label:"操作"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-dropdown",{attrs:{trigger:"click"}},[a("el-button",{staticClass:"el-dropdown-link",attrs:{type:"text"}},[t._v("\n            操作\n            "),a("i",{staticClass:"el-icon-arrow-down el-icon--right"})]),t._v(" "),a("el-dropdown-menu",{attrs:{slot:"dropdown"},slot:"dropdown"},[a("el-dropdown-item",[a("div",{staticStyle:{width:"100px"},on:{click:function(a){t.update(0,e.row.id)}}},[t._v("删除")])]),t._v(" "),a("el-dropdown-item",[a("div",{staticStyle:{width:"100px"},on:{click:function(a){t.update(1,e.row.id)}}},[t._v("编辑")])])],1)],1)]}}])})],1),t._v(" "),a("div",{staticClass:"flexr-end",staticStyle:{"margin-top":"20px"}},[a("Page",{attrs:{total:t.total,current:t.getDataListquery.page,"page-size":t.getDataListquery.size,"show-sizer":"","show-total":""},on:{"on-change":t.changePage,"on-page-size-change":t.changeSize}})],1),t._v(" "),a("el-dialog",{attrs:{title:"编辑",visible:t.newDialog,width:"50%",center:""},on:{"update:visible":function(e){t.newDialog=e}}},[a("Form",{attrs:{model:t.submitData,"label-postion":"top"}},[a("FormItem",{attrs:{label:"分配楼栋"}},[a("div",{staticStyle:{"border-bottom":"1px solid #e9e9e9","padding-bottom":"6px","margin-bottom":"6px"}},[a("Checkbox",{attrs:{indeterminate:t.indeterminate1,value:t.checkAll1},nativeOn:{click:function(e){return e.preventDefault(),t.handleCheckAll1(e)}}},[t._v("全选")])],1),t._v(" "),a("CheckboxGroup",{on:{"on-change":t.checkAllGroupChange1},model:{value:t.floorsTkout,callback:function(e){t.floorsTkout=e},expression:"floorsTkout"}},t._l(t.floors,function(e){return a("Checkbox",{key:e.id,attrs:{label:e.id}},[t._v(t._s(e.name))])}))],1),t._v(" "),a("FormItem",{attrs:{label:"分配店铺"}},[a("div",{staticStyle:{"border-bottom":"1px solid #e9e9e9","padding-bottom":"6px","margin-bottom":"6px"}},[a("Checkbox",{attrs:{indeterminate:t.indeterminate2,value:t.checkAll2},nativeOn:{click:function(e){return e.preventDefault(),t.handleCheckAll2(e)}}},[t._v("全选")])],1),t._v(" "),a("CheckboxGroup",{on:{"on-change":t.checkAllGroupChange2},model:{value:t.shopsTkout,callback:function(e){t.shopsTkout=e},expression:"shopsTkout"}},t._l(t.shops,function(e){return a("Checkbox",{key:e.id,attrs:{label:e.id}},[t._v(t._s(e.shopName))])}))],1),t._v(" "),a("FormItem",{attrs:{label:"对他/她抽成"}},[a("Input",{attrs:{placeholder:"请输入抽成（最低0.006）"},model:{value:t.submitData.rate,callback:function(e){t.$set(t.submitData,"rate",e)},expression:"submitData.rate"}})],1),t._v(" "),a("div",{staticClass:"flexr-start item-center"},[a("FormItem",{attrs:{label:"是否接单外卖"}},[a("el-switch",{model:{value:t.submitData.takeoutFlag,callback:function(e){t.$set(t.submitData,"takeoutFlag",e)},expression:"submitData.takeoutFlag"}})],1),t._v(" "),a("FormItem",{staticClass:"margin-left-ershi",attrs:{label:"是否接单跑腿"}},[a("el-switch",{model:{value:t.submitData.runFlag,callback:function(e){t.$set(t.submitData,"runFlag",e)},expression:"submitData.runFlag"}})],1)],1),t._v(" "),a("FormItem",{attrs:{label:"审核状态"}},[a("Select",{model:{value:t.submitData.exam,callback:function(e){t.$set(t.submitData,"exam",e)},expression:"submitData.exam"}},[a("Option",{attrs:{value:"审核通过"}},[t._v("审核通过")])],1)],1)],1),t._v(" "),a("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(e){t.newDialog=!1}}},[t._v("取 消")]),t._v(" "),a("el-button",{attrs:{type:"primary"},on:{click:function(e){t.newDialog=!1,t.add()}}},[t._v("确 定")])],1)],1)],1)},staticRenderFns:[]};var R,W=a("C7Lr")(M,j,!1,function(t){a("Rfgy")},null,null).exports,G={data:function(){return{data:[],total:0,searchList:[{key:"name",value:"",label:"输入分类名称"}],getDataListquery:{page:1,size:100,schoolId:sessionStorage.getItem("schoolId")},submitData:{name:""},newDialog:!1}},mounted:function(){R=this,this.getDataList()},methods:{getDataList:function(){this.$http.post(this.com.NODE_API+"/ops/shopcategory/find",this.getDataListquery,{headers:{token:sessionStorage.getItem("token")},emulateJSON:!0}).then(function(t){t.data.code?(R.data=t.data.params.list,R.total=t.data.params.list.length):R.$message({showClose:!0,type:"error",message:t.data.msg})})},update:function(t,e,a){var s=this;0==t?this.$confirm("此操作将永久删除该数据, 是否继续? 若误删请联系开发人员","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){s.$http.post(s.com.NODE_API+"/ops/shopcategory/update",{id:e,isDelete:1},{headers:{token:sessionStorage.getItem("token")},emulateJSON:!0}).then(function(t){t.data.code?(R.$message({showClose:!0,type:"success",message:"删除成功"}),s.getDataList()):R.$message({showClose:!0,type:"error",message:t.data.msg})})}):1==t&&(this.submitData.name=a,this.submitData.id=e,this.newDialog=!0)},add:function(){var t=this;this.submitData.id?this.$http.post(this.com.NODE_API+"/ops/shopcategory/update",this.submitData,{headers:{token:sessionStorage.getItem("token")},emulateJSON:!0}).then(function(e){e.data.code?(R.$message({showClose:!0,type:"success",message:"更新成功"}),R.getDataList(),t.submitData.name="",t.newDialog=!1):R.$message({showClose:!0,type:"error",message:e.data.msg})}):this.$http.post(this.com.NODE_API+"/ops/shopcategory/add",this.submitData,{headers:{token:sessionStorage.getItem("token")},emulateJSON:!0}).then(function(e){e.data.code?(R.$message({showClose:!0,type:"success",message:"添加成功"}),R.getDataList(),t.submitData.name="",t.newDialog=!1):R.$message({showClose:!0,type:"error",message:e.data.msg})})},changePage:function(t){this.getDataListquery.page=t,this.getDataList()},changeSize:function(t){this.getDataListquery.size=t,this.getDataList()}}},U={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("h2",[t._v("店铺分类列表")]),t._v(" "),a("div",{staticStyle:{"margin-top":"15px","border-bottom":"1px solid #e1e1e1",width:"100%"}}),t._v(" "),a("div",{staticClass:"search-bar"},[t._l(t.searchList,function(e,s){return a("Input",{key:s,staticClass:"il in",attrs:{placeholder:e.label},model:{value:e.value,callback:function(a){t.$set(e,"value",a)},expression:"item.value"}})}),t._v(" "),a("Button",{staticClass:"il",on:{click:function(e){t.clear()}}},[t._v("清空")]),t._v(" "),a("Button",{staticClass:"il",staticStyle:{width:"100px"},attrs:{type:"primary"},on:{click:function(e){t.search()}}},[t._v("搜索")])],2),t._v(" "),a("div",{staticClass:"flexr-between"},[a("ButtonGroup",[a("Button",{on:{click:function(e){t.newDialog=!0,t.submitData.name="",t.submitData.id=""}}},[t._v("添加分类")])],1)],1),t._v(" "),a("el-table",{staticStyle:{width:"100%","margin-top":"15px"},attrs:{data:t.data}},[a("el-table-column",{attrs:{prop:"id",label:"ID"}}),t._v(" "),a("el-table-column",{attrs:{prop:"name",label:"分类名称"}}),t._v(" "),a("el-table-column",{attrs:{label:"操作"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-dropdown",{attrs:{trigger:"click"}},[a("el-button",{staticClass:"el-dropdown-link",attrs:{type:"text"}},[t._v("\n            操作\n            "),a("i",{staticClass:"el-icon-arrow-down el-icon--right"})]),t._v(" "),a("el-dropdown-menu",{attrs:{slot:"dropdown"},slot:"dropdown"},[a("el-dropdown-item",[a("div",{staticStyle:{width:"100px"},on:{click:function(a){t.update(0,e.row.id,e.row.name)}}},[t._v("删除")])]),t._v(" "),a("el-dropdown-item",[a("div",{staticStyle:{width:"100px"},on:{click:function(a){t.update(1,e.row.id,e.row.name)}}},[t._v("编辑")])])],1)],1)]}}])})],1),t._v(" "),a("div",{staticClass:"flexr-end",staticStyle:{"margin-top":"20px"}},[a("Page",{attrs:{total:t.total,current:t.getDataListquery.page,"page-size":t.getDataListquery.size,"show-sizer":"","show-total":""},on:{"on-change":t.changePage,"on-page-size-change":t.changeSize}})],1),t._v(" "),a("el-dialog",{attrs:{title:"保存分类",visible:t.newDialog,width:"50%",center:""},on:{"update:visible":function(e){t.newDialog=e}}},[a("Form",{attrs:{model:t.submitData,"label-postion":"top"}},[a("FormItem",{attrs:{label:"分类名称"}},[a("Input",{attrs:{placeholder:"请输入分类名称"},model:{value:t.submitData.name,callback:function(e){t.$set(t.submitData,"name",e)},expression:"submitData.name"}})],1)],1),t._v(" "),a("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(e){t.newDialog=!1}}},[t._v("取 消")]),t._v(" "),a("el-button",{attrs:{type:"primary"},on:{click:function(e){t.newDialog=!1,t.add()}}},[t._v("确 定")])],1)],1)],1)},staticRenderFns:[]};var V,H=a("C7Lr")(G,U,!1,function(t){a("hFBL")},null,null).exports,K={data:function(){return{shopType:[],loading:!1,getDataListquery:{page:1,size:20,schoolId:sessionStorage.getItem("schoolId")},wxamsg:{shopCategoryId:"",shopImage:"",openFlag:!1,shopName:"",shopPhone:"",shopLoginName:"",shopLoginPassWord:"",lng:"",lat:"",shopAddress:"",topTitle:"",rate:"",score:0,sendTime:"",startPrice:"",sendPrice:"",sendPriceAdd:"",boxPrice:"",sendModelFlag:!1,getModelFlag:!1,sendPriceAddByCountFlag:!1},imgUrl:"",visible:!1,defaultList:[{name:"a42bdcc1178e62b4694c830f028db5c0",url:"https://o5wwk8baw.qnssl.com/a42bdcc1178e62b4694c830f028db5c0/avatar"}],uploadList:[]}},mounted:function(){V=this,this.$route.query.id?(this.wxamsg={id:this.$route.query.id,shopCategoryId:this.$route.query.shopCategoryId,shopImage:this.$route.query.shopImage,openFlag:1==this.$route.query.openFlag,shopName:this.$route.query.shopName,shopPhone:this.$route.query.shopPhone,shopLoginName:this.$route.query.shopLoginName,shopLoginPassWord:this.$route.query.shopLoginPassWord,lng:this.$route.query.lng,lat:this.$route.query.lat,shopAddress:this.$route.query.shopAddress,topTitle:this.$route.query.topTitle,rate:this.$route.query.rate,score:this.$route.query.score,sendTime:this.$route.query.sendTime,startPrice:this.$route.query.startPrice,sendPrice:this.$route.query.sendPrice,sendPriceAdd:this.$route.query.sendPriceAdd,boxPrice:this.$route.query.boxPrice,sendModelFlag:1==this.$route.query.sendModelFlag,getModelFlag:1==this.$route.query.getModelFlag,sendPriceAddByCountFlag:1==this.$route.query.sendPriceAddByCountFlag},this.defaultList[0].url=this.$route.query.shopImage,this.imgUrl=this.$route.query.shopImage):this.wxamsg={shopCategoryId:"",shopImage:"",openFlag:!1,shopName:"",shopPhone:"",shopLoginName:"",shopLoginPassWord:"",lng:"",lat:"",shopAddress:"",topTitle:"",rate:"",score:0,sendTime:"",startPrice:"",sendPrice:"",sendPriceAdd:"",boxPrice:"",sendModelFlag:!1,getModelFlag:!1,sendPriceAddByCountFlag:!1,vipDiscountFlag:0},this.uploadList=this.$refs.upload.fileList,this.getDataList()},methods:{navTo:function(t){this.$router.go(-1)},getDataList:function(){this.$http.post(this.com.NODE_API+"/ops/shopcategory/find",this.getDataListquery,{headers:{token:sessionStorage.getItem("token")},emulateJSON:!0}).then(function(t){t.data.code?V.shopType=t.data.params.list:V.$message({showClose:!0,type:"error",message:t.data.msg})})},submitData:function(){var t=this,e=this;this.loading=!0,this.wxamsg.openFlag=1==this.wxamsg.openFlag?"1":"0",this.wxamsg.sendModelFlag=1==this.wxamsg.sendModelFlag?"1":"0",this.wxamsg.getModelFlag=1==this.wxamsg.getModelFlag?"1":"0",this.wxamsg.sendPriceAddByCountFlag=1==this.wxamsg.sendPriceAddByCountFlag?"1":"0",this.wxamsg.shopAddress=""==this.wxamsg.shopAddress?"暂无填写商铺地址信息":this.wxamsg.shopAddress,this.wxamsg.topTitle=""==this.wxamsg.topTitle?"暂无填写商铺公告信息":this.wxamsg.topTitle,this.wxamsg.rate=""==this.wxamsg.rate?"0":this.wxamsg.rate,this.wxamsg.sendTime=""==this.wxamsg.sendTime?"45":this.wxamsg.sendTime,this.wxamsg.startPrice=""==this.wxamsg.startPrice?"0":this.wxamsg.startPrice,this.wxamsg.sendPrice=""==this.wxamsg.sendPrice?"0":this.wxamsg.sendPrice,this.wxamsg.sendPriceAdd=""==this.wxamsg.sendPriceAdd?"0":this.wxamsg.sendPriceAdd,this.wxamsg.boxPrice=""==this.wxamsg.boxPrice?"0":this.wxamsg.boxPrice,this.$route.query.id?(this.$route.query.shopLoginName==this.wxamsg.shopLoginName&&delete this.wxamsg.shopLoginName,this.$http.post(this.com.NODE_API+"/ops/shop/update",this.wxamsg,{headers:{token:sessionStorage.getItem("token")},emulateJSON:!0}).then(function(a){a.data.code?(e.$message({showClose:!0,type:"success",message:"更新成功"}),t.$router.go(-1)):e.$message({showClose:!0,type:"error",message:a.data.msg}),e.loading=!1})):this.$http.post(this.com.NODE_API+"/ops/shop/add",this.wxamsg,{headers:{token:sessionStorage.getItem("token")},emulateJSON:!0}).then(function(a){a.data.code?(e.$message({showClose:!0,type:"success",message:"添加成功"}),t.$router.go(-1)):e.$message({showClose:!0,type:"error",message:a.data.msg}),e.loading=!1})},handleView:function(t){this.imgUrl=t,this.visible=!0},handleRemove:function(t){var e=this.$refs.upload.fileList;this.$refs.upload.fileList.splice(e.indexOf(t),1)},handleSuccess:function(t,e){e.url=t,this.wxamsg.shopImage=t},handleFormatError:function(t){V.$message({showClose:!0,type:"error",message:"只限于传jpg,jpeg,png三种图片类型"})},handleMaxSize:function(t){V.$message({showClose:!0,type:"error",message:"上传文件过大，请小于100kb"})}}},X={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("div",{staticClass:"flexr-start item-center"},[a("el-button",{attrs:{size:"mini",icon:"el-icon-arrow-left",circle:""},on:{click:function(e){t.navTo("/schoolList")}}}),t._v(" "),a("h2",{staticClass:"margin-left-shi"},[t._v("保存商铺")])],1),t._v(" "),a("div",{staticStyle:{"margin-top":"15px","border-bottom":"1px solid #e1e1e1",width:"100%"}}),t._v(" "),a("Form",{staticStyle:{"margin-top":"20px",width:"800px"},attrs:{model:t.wxamsg,"label-width":200}},[a("iframe",{staticStyle:{height:"600px",width:"750px","margin-left":"120px"},attrs:{src:"http://api.map.baidu.com/lbsapi/getpoint/index.html",frameborder:"0"}}),t._v(" "),a("FormItem",{staticClass:"margin-top-ershi",attrs:{label:"选择所属分类"}},[a("Select",{model:{value:t.wxamsg.shopCategoryId,callback:function(e){t.$set(t.wxamsg,"shopCategoryId",e)},expression:"wxamsg.shopCategoryId"}},t._l(t.shopType,function(e){return a("Option",{key:e.shopType,attrs:{value:e.id}},[t._v(t._s(e.name))])}))],1),t._v(" "),a("FormItem",{attrs:{label:"商铺图片"}},[t._l(t.uploadList,function(e){return a("div",{key:e.uploadList,staticClass:"demo-upload-list"},["finished"===e.status?[a("img",{attrs:{src:e.url}}),t._v(" "),a("div",{staticClass:"demo-upload-list-cover"},[a("Icon",{attrs:{type:"ios-eye-outline"},nativeOn:{click:function(a){t.handleView(e.url)}}}),t._v(" "),a("Icon",{attrs:{type:"ios-trash-outline"},nativeOn:{click:function(a){t.handleRemove(e)}}})],1)]:[e.showProgress?a("Progress",{attrs:{percent:e.percentage,"hide-info":""}}):t._e()]],2)}),t._v(" "),a("Upload",{ref:"upload",staticStyle:{display:"inline-block",width:"58px"},attrs:{"default-file-list":t.defaultList,"on-success":t.handleSuccess,format:["jpg","jpeg","png"],"max-size":100,"on-format-error":t.handleFormatError,"on-exceeded-size":t.handleMaxSize,"show-upload-list":!1,type:"drag",action:"https://www.chuyinkeji.cn/filesystem/upfile"}},[a("div",{staticStyle:{width:"58px",height:"58px","line-height":"58px"}},[a("Icon",{attrs:{type:"ios-camera",size:"20"}})],1)]),t._v(" "),a("Modal",{attrs:{title:"查看图片"},model:{value:t.visible,callback:function(e){t.visible=e},expression:"visible"}},[t.visible?a("img",{staticStyle:{width:"100%"},attrs:{src:t.imgUrl}}):t._e()])],2),t._v(" "),a("FormItem",{attrs:{label:"营业状态"}},[a("el-switch",{model:{value:t.wxamsg.openFlag,callback:function(e){t.$set(t.wxamsg,"openFlag",e)},expression:"wxamsg.openFlag"}})],1),t._v(" "),a("FormItem",{attrs:{label:"商铺名称"}},[a("Input",{attrs:{placeholder:"请输入商铺名称"},model:{value:t.wxamsg.shopName,callback:function(e){t.$set(t.wxamsg,"shopName",e)},expression:"wxamsg.shopName"}})],1),t._v(" "),a("FormItem",{attrs:{label:"商铺手机号"}},[a("Input",{attrs:{placeholder:"请输入商铺手机号"},model:{value:t.wxamsg.shopPhone,callback:function(e){t.$set(t.wxamsg,"shopPhone",e)},expression:"wxamsg.shopPhone"}})],1),t._v(" "),a("FormItem",{attrs:{label:"登录账号"}},[a("Input",{attrs:{placeholder:"请输入商铺登录账号"},model:{value:t.wxamsg.shopLoginName,callback:function(e){t.$set(t.wxamsg,"shopLoginName",e)},expression:"wxamsg.shopLoginName"}})],1),t._v(" "),a("FormItem",{attrs:{label:"登录密码"}},[a("Input",{attrs:{placeholder:"请输入商铺登录密码"},model:{value:t.wxamsg.shopLoginPassWord,callback:function(e){t.$set(t.wxamsg,"shopLoginPassWord",e)},expression:"wxamsg.shopLoginPassWord"}})],1),t._v(" "),a("FormItem",{attrs:{label:"商铺经度"}},[a("Input",{staticStyle:{width:"400px"},attrs:{placeholder:"将顶部地图复制的经度填入（左边部分）"},model:{value:t.wxamsg.lng,callback:function(e){t.$set(t.wxamsg,"lng",e)},expression:"wxamsg.lng"}})],1),t._v(" "),a("FormItem",{attrs:{label:"商铺纬度"}},[a("Input",{staticStyle:{width:"400px"},attrs:{placeholder:"将顶部地图复制的纬度填入（右边部分）"},model:{value:t.wxamsg.lat,callback:function(e){t.$set(t.wxamsg,"lat",e)},expression:"wxamsg.lat"}})],1),t._v(" "),a("FormItem",{attrs:{label:"商铺地址"}},[a("Input",{attrs:{placeholder:"请输入商铺具体位置"},model:{value:t.wxamsg.shopAddress,callback:function(e){t.$set(t.wxamsg,"shopAddress",e)},expression:"wxamsg.shopAddress"}})],1),t._v(" "),a("FormItem",{attrs:{label:"商铺公告"}},[a("Input",{attrs:{placeholder:"请输入商铺公告"},model:{value:t.wxamsg.topTitle,callback:function(e){t.$set(t.wxamsg,"topTitle",e)},expression:"wxamsg.topTitle"}})],1),t._v(" "),a("FormItem",{attrs:{label:"对商铺抽成"}},[a("Input",{attrs:{placeholder:"请输入抽成"},model:{value:t.wxamsg.rate,callback:function(e){t.$set(t.wxamsg,"rate",e)},expression:"wxamsg.rate"}})],1),t._v(" "),a("FormItem",{attrs:{label:"商铺评分"}},[a("Rate",{model:{value:t.wxamsg.score,callback:function(e){t.$set(t.wxamsg,"score",e)},expression:"wxamsg.score"}})],1),t._v(" "),a("FormItem",{staticStyle:{width:"300px"},attrs:{label:"配送时间"}},[a("Input",{attrs:{placeholder:"平均送达时间"},model:{value:t.wxamsg.sendTime,callback:function(e){t.$set(t.wxamsg,"sendTime",e)},expression:"wxamsg.sendTime"}})],1),t._v(" "),a("div",{staticClass:"flexr-start"},[a("FormItem",{staticStyle:{width:"350px"},attrs:{label:"起送费用"}},[a("Input",{attrs:{placeholder:"起送费用"},model:{value:t.wxamsg.startPrice,callback:function(e){t.$set(t.wxamsg,"startPrice",e)},expression:"wxamsg.startPrice"}})],1),t._v(" "),a("FormItem",{staticStyle:{width:"350px"},attrs:{label:"餐盒费"}},[a("Input",{attrs:{placeholder:"餐盒费用"},model:{value:t.wxamsg.boxPrice,callback:function(e){t.$set(t.wxamsg,"boxPrice",e)},expression:"wxamsg.boxPrice"}})],1)],1),t._v(" "),a("div",{staticClass:"flexr-start"},[a("FormItem",{staticStyle:{width:"350px"},attrs:{label:"配送费"}},[a("Input",{attrs:{placeholder:"基础配送费用"},model:{value:t.wxamsg.sendPrice,callback:function(e){t.$set(t.wxamsg,"sendPrice",e)},expression:"wxamsg.sendPrice"}})],1),t._v(" "),a("FormItem",{staticStyle:{width:"350px"},attrs:{label:"每加一件商品累加配送费"}},[a("Input",{attrs:{placeholder:"累加配送费用"},model:{value:t.wxamsg.sendPriceAdd,callback:function(e){t.$set(t.wxamsg,"sendPriceAdd",e)},expression:"wxamsg.sendPriceAdd"}})],1)],1),t._v(" "),a("div",{staticClass:"flexr-start"},[a("FormItem",{attrs:{label:"外送模式"}},[a("el-switch",{model:{value:t.wxamsg.sendModelFlag,callback:function(e){t.$set(t.wxamsg,"sendModelFlag",e)},expression:"wxamsg.sendModelFlag"}})],1),t._v(" "),a("FormItem",{attrs:{label:"自取模式"}},[a("el-switch",{model:{value:t.wxamsg.getModelFlag,callback:function(e){t.$set(t.wxamsg,"getModelFlag",e)},expression:"wxamsg.getModelFlag"}})],1),t._v(" "),a("FormItem",{attrs:{label:"件数累加配送费"}},[a("el-switch",{model:{value:t.wxamsg.sendPriceAddByCountFlag,callback:function(e){t.$set(t.wxamsg,"sendPriceAddByCountFlag",e)},expression:"wxamsg.sendPriceAddByCountFlag"}})],1)],1),t._v(" "),a("FormItem",[a("Button",{attrs:{type:"primary",loading:t.loading},on:{click:function(e){t.submitData()}}},[t._v("保存提交")])],1)],1)],1)},staticRenderFns:[]};var Z,Y=a("C7Lr")(K,X,!1,function(t){a("t4XL")},null,null).exports,Q={data:function(){return{data:[],total:0,searchList:[{key:"name",value:"",label:"请输入商铺名称"}],getDataListquery:{page:1,size:10,schoolId:sessionStorage.getItem("schoolId")},submitData:{full:"",cut:"",shopId:""},submitData2:{endTime:"",startTime:"",shopId:""},manjianlist:[],yingyelist:[],newDialog:!1,newDialog2:!1,newDialog3:!1,img:""}},mounted:function(){Z=this,this.getDataList()},methods:{getDataList:function(){this.$http.post(this.com.NODE_API+"/ops/shop/find",this.getDataListquery,{headers:{token:sessionStorage.getItem("token")},emulateJSON:!0}).then(function(t){t.data.code?(Z.data=t.data.params.list,Z.total=t.data.params.total):Z.$message({showClose:!0,type:"error",message:t.data.msg})})},navTo:function(t){this.$router.push({path:t})},update:function(t,e){var a=this;if(0==t)this.$confirm("此操作将永久删除该数据, 是否继续? 若误删请联系开发人员","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){a.$http.post(a.com.NODE_API+"/ops/shop/update",{id:e,isDelete:1},{headers:{token:sessionStorage.getItem("token")},emulateJSON:!0}).then(function(t){t.data.code?(Z.$message({showClose:!0,type:"success",message:"添加成功"}),a.getDataList()):Z.$message({showClose:!0,type:"error",message:t.data.msg})})});else if(1==t){for(var s="",o=0;o<this.data.length;o++)this.data[o].id==e&&(s=this.data[o]);this.$router.push({path:"/addShop",query:s})}},navtomanjian:function(t){var e=this;this.newDialog=!0,this.submitData.shopId=t,this.$http.post(this.com.NODE_API+"/ops/shop/find_fullcut",{shopId:t},{headers:{token:sessionStorage.getItem("token")},emulateJSON:!0}).then(function(t){t.data.code?(e.manjianlist=t.data.params.list,e.submitData.full="",e.submitData.cut=""):Z.$message({showClose:!0,type:"error",message:t.data.msg})})},navtoyingye:function(t){var e=this;this.newDialog3=!0,this.submitData2.shopId=t,this.$http.post(this.com.NODE_API+"/ops/shop/find/openTime",{shopId:t},{headers:{token:sessionStorage.getItem("token")},emulateJSON:!0}).then(function(t){t.data.code?(e.yingyelist=t.data.params.time,e.submitData2.endTime="",e.submitData2.startTime=""):Z.$message({showClose:!0,type:"error",message:t.data.msg})})},finderweima:function(t){var e=this;this.$http.post(this.com.NODE_API+"/ops/shop/barcode",{id:t},{headers:{token:sessionStorage.getItem("token")},emulateJSON:!0}).then(function(t){t.data.code?(e.img=t.data.params.barcode,e.newDialog2=!0):Z.$message({showClose:!0,type:"error",message:t.data.msg})})},add:function(){var t=this;this.$http.post(this.com.NODE_API+"/ops/shop/add_fullcut",this.submitData,{headers:{token:sessionStorage.getItem("token")},emulateJSON:!0}).then(function(e){e.data.code?t.navtomanjian(t.submitData.shopId):Z.$message({showClose:!0,type:"error",message:e.data.msg})})},add2:function(){var t=this;this.$http.post(this.com.NODE_API+"/ops/shop/add/openTime",this.submitData2,{headers:{token:sessionStorage.getItem("token")},emulateJSON:!0}).then(function(e){e.data.code?t.navtoyingye(t.submitData2.shopId):Z.$message({showClose:!0,type:"error",message:e.data.msg})})},shanchulist:function(t){var e=this;this.$http.post(this.com.NODE_API+"/ops/shop/delete_fullcut",{id:t},{headers:{token:sessionStorage.getItem("token")},emulateJSON:!0}).then(function(t){t.data.code?e.navtomanjian(e.submitData.shopId):Z.$message({showClose:!0,type:"error",message:t.data.msg})})},shanchulist2:function(t){var e=this;this.$http.post(this.com.NODE_API+"/ops/shop/delete/deleteopenTime",{id:t},{headers:{token:sessionStorage.getItem("token")},emulateJSON:!0}).then(function(t){t.data.code?e.navtoyingye(e.submitData2.shopId):Z.$message({showClose:!0,type:"error",message:t.data.msg})})},zhiding:function(t){var e=this,a=new Date;this.$http.post(this.com.NODE_API+"/ops/shop/update",{id:t,sort:Date.parse(a)},{headers:{token:sessionStorage.getItem("token")},emulateJSON:!0}).then(function(t){t.data.code?(Z.$message({showClose:!0,type:"success",message:"置顶成功"}),e.getDataList()):Z.$message({showClose:!0,type:"error",message:t.data.msg})})},navTo2:function(t){this.$router.push({path:"/goodsList",query:{id:t}})},changePage:function(t){this.getDataListquery.page=t,this.getDataList()},changeSize:function(t){this.getDataListquery.size=t,this.getDataList()}}},tt={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("h2",[t._v("商铺列表")]),t._v(" "),a("div",{staticStyle:{"margin-top":"15px","border-bottom":"1px solid #e1e1e1",width:"100%"}}),t._v(" "),a("div",{staticClass:"search-bar"},[t._l(t.searchList,function(e,s){return a("Input",{key:s,staticClass:"il in",attrs:{placeholder:e.label},model:{value:e.value,callback:function(a){t.$set(e,"value",a)},expression:"item.value"}})}),t._v(" "),a("Button",{staticClass:"il",on:{click:function(e){t.clear()}}},[t._v("清空")]),t._v(" "),a("Button",{staticClass:"il",staticStyle:{width:"100px"},attrs:{type:"primary"},on:{click:function(e){t.search()}}},[t._v("搜索")])],2),t._v(" "),a("div",{staticClass:"flexr-between"},[a("ButtonGroup",[a("Button",{on:{click:function(e){t.navTo("/addShop")}}},[t._v("新增商铺")])],1)],1),t._v(" "),a("el-table",{staticStyle:{width:"100%","margin-top":"15px"},attrs:{data:t.data}},[a("el-table-column",{attrs:{fixed:"",prop:"id",label:"ID",width:"60"}}),t._v(" "),a("el-table-column",{attrs:{fixed:"",prop:"shopName",label:"商铺名称"}}),t._v(" "),a("el-table-column",{attrs:{fixed:"",prop:"shopPhone",label:"商铺手机"}}),t._v(" "),a("el-table-column",{attrs:{fixed:"",prop:"rate",label:"商铺抽成"}}),t._v(" "),a("el-table-column",{attrs:{filters:[{text:"营业中",value:0},{text:"休息中",value:1}],label:"状态"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-tag",{attrs:{type:1==e.row.openFlag?"success":"danger","disable-transitions":""}},[t._v(t._s(1==e.row.openFlag?"营业中":"休息中"))])]}}])}),t._v(" "),a("el-table-column",{attrs:{fixed:"",prop:"boxPrice",label:"餐盒费"}}),t._v(" "),a("el-table-column",{attrs:{fixed:"",prop:"sendPrice",label:"配送费"}}),t._v(" "),a("el-table-column",{attrs:{fixed:"",prop:"sendPriceAdd",label:"份数累加"}}),t._v(" "),a("el-table-column",{attrs:{label:"专送"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-tag",{attrs:{type:1==e.row.sendModelFlag?"success":"danger","disable-transitions":""}},[t._v(t._s(1==e.row.sendModelFlag?"开启":"关闭"))])]}}])}),t._v(" "),a("el-table-column",{attrs:{label:"自取"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-tag",{attrs:{type:1==e.row.getModelFlag?"success":"danger","disable-transitions":""}},[t._v(t._s(1==e.row.getModelFlag?"开启":"关闭"))])]}}])}),t._v(" "),a("el-table-column",{attrs:{label:"余额折扣"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-tag",{attrs:{type:1==e.row.vipDiscountFlag?"success":"danger","disable-transitions":""}},[t._v(t._s(1==e.row.vipDiscountFlag?"开启":"关闭"))])]}}])}),t._v(" "),a("el-table-column",{attrs:{label:"操作"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-dropdown",{attrs:{trigger:"click"}},[a("el-button",{staticClass:"el-dropdown-link",attrs:{type:"text"}},[t._v("\n            操作\n            "),a("i",{staticClass:"el-icon-arrow-down el-icon--right"})]),t._v(" "),a("el-dropdown-menu",{attrs:{slot:"dropdown"},slot:"dropdown"},[a("el-dropdown-item",[a("div",{staticStyle:{width:"100px"},on:{click:function(a){t.zhiding(e.row.id)}}},[t._v("置顶")])]),t._v(" "),a("el-dropdown-item",[a("div",{staticStyle:{width:"100px"},on:{click:function(a){t.update(0,e.row.id)}}},[t._v("删除")])]),t._v(" "),a("el-dropdown-item",[a("div",{staticStyle:{width:"100px"},on:{click:function(a){t.update(1,e.row.id)}}},[t._v("编辑")])]),t._v(" "),a("el-dropdown-item",[a("div",{staticStyle:{width:"100px"},on:{click:function(a){t.finderweima(e.row.id)}}},[t._v("商铺二维码")])]),t._v(" "),a("el-dropdown-item",[a("div",{staticStyle:{width:"100px"},on:{click:function(a){t.navtomanjian(e.row.id)}}},[t._v("满减优惠")])]),t._v(" "),a("el-dropdown-item",[a("div",{staticStyle:{width:"100px"},on:{click:function(a){t.navtoyingye(e.row.id)}}},[t._v("营业时间")])]),t._v(" "),a("el-dropdown-item",[a("div",{staticStyle:{width:"100px"},on:{click:function(a){t.navTo2(e.row.id)}}},[t._v("商品分类")])])],1)],1)]}}])})],1),t._v(" "),a("div",{staticClass:"flexr-end",staticStyle:{"margin-top":"20px"}},[a("Page",{attrs:{total:t.total,current:t.getDataListquery.page,"page-size":t.getDataListquery.size,"show-sizer":"","show-total":""},on:{"on-change":t.changePage,"on-page-size-change":t.changeSize}})],1),t._v(" "),a("el-dialog",{attrs:{title:"满减优惠",visible:t.newDialog,width:"60%",center:""},on:{"update:visible":function(e){t.newDialog=e}}},[a("Form",{staticClass:"flexr-between item-center border-bottom",attrs:{model:t.submitData,"label-postion":"top"}},[a("FormItem",{attrs:{label:"满多少"}},[a("Input",{attrs:{placeholder:"请输入商铺满值"},model:{value:t.submitData.full,callback:function(e){t.$set(t.submitData,"full",e)},expression:"submitData.full"}})],1),t._v(" "),a("FormItem",{attrs:{label:"减多少"}},[a("Input",{attrs:{placeholder:"请输入商铺减值"},model:{value:t.submitData.cut,callback:function(e){t.$set(t.submitData,"cut",e)},expression:"submitData.cut"}})],1),t._v(" "),a("el-button",{attrs:{type:"primary"},on:{click:function(e){t.add()}}},[t._v("添加")])],1),t._v(" "),a("el-table",{staticClass:"flexr-bentwee item-center",staticStyle:{width:"100%","margin-top":"10px"},attrs:{data:t.manjianlist}},[a("el-table-column",{attrs:{prop:"full",label:"商铺满值"}}),t._v(" "),a("el-table-column",{attrs:{prop:"cut",label:"商铺减值"}}),t._v(" "),a("el-table-column",{attrs:{label:"操作",width:"100"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-button",{attrs:{size:"small",type:"danger"},on:{click:function(a){t.shanchulist(e.row.id)}}},[t._v("删除")])]}}])})],1)],1),t._v(" "),a("el-dialog",{attrs:{title:"营业时间",visible:t.newDialog3,width:"60%",center:""},on:{"update:visible":function(e){t.newDialog3=e}}},[a("Form",{staticClass:"flexr-between item-center border-bottom",attrs:{model:t.submitData2,"label-postion":"top"}},[a("FormItem",{attrs:{label:"开始时间"}},[a("Input",{attrs:{placeholder:"请输入营业开始时间"},model:{value:t.submitData2.startTime,callback:function(e){t.$set(t.submitData2,"startTime",e)},expression:"submitData2.startTime"}})],1),t._v(" "),a("FormItem",{attrs:{label:"结束时间"}},[a("Input",{attrs:{placeholder:"请输入营业结束时间"},model:{value:t.submitData2.endTime,callback:function(e){t.$set(t.submitData2,"endTime",e)},expression:"submitData2.endTime"}})],1),t._v(" "),a("el-button",{attrs:{type:"primary"},on:{click:function(e){t.add2()}}},[t._v("添加")])],1),t._v(" "),a("el-table",{staticClass:"flexr-bentwee item-center",staticStyle:{width:"100%","margin-top":"10px"},attrs:{data:t.yingyelist}},[a("el-table-column",{attrs:{prop:"startTime",label:"营业开始时间"}}),t._v(" "),a("el-table-column",{attrs:{prop:"endTime",label:"营业结束时间"}}),t._v(" "),a("el-table-column",{attrs:{label:"操作",width:"100"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-button",{attrs:{size:"small",type:"danger"},on:{click:function(a){t.shanchulist2(e.row.id)}}},[t._v("删除")])]}}])})],1)],1),t._v(" "),a("el-dialog",{attrs:{title:"商铺二维码",visible:t.newDialog2,width:"50%",center:""},on:{"update:visible":function(e){t.newDialog2=e}}},[a("div",{staticClass:"flexr-center item-center",staticStyle:{width:"100%"}},[a("img",{staticClass:"margin-bottom-ershi",staticStyle:{border:"2px solid gainsboro"},attrs:{src:t.img,height:"300px",width:"300px",alt:""}})]),t._v(" "),a("div",{staticStyle:{"font-size":"20px",color:"#888"}},[t._v("右键点击图片可将图片保存至本地")]),t._v(" "),a("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(e){t.newDialog2=!1}}},[t._v("取 消")])],1)])],1)},staticRenderFns:[]};var et,at=a("C7Lr")(Q,tt,!1,function(t){a("Wvba")},null,null).exports,st={data:function(){return{data:[],total:0,searchList:[{key:"name",value:"",label:"输入分类名称"}],submitData:{name:"",shopId:this.$route.query.id},newDialog:!1}},mounted:function(){et=this,this.getDataList()},methods:{navTo:function(t){this.$router.go(-1)},getDataList:function(){this.$http.post(this.com.NODE_API+"/ops/productcategory/find",{shopId:this.$route.query.id},{headers:{token:sessionStorage.getItem("token")},emulateJSON:!0}).then(function(t){t.data.code?(et.data=t.data.params.list,et.total=t.data.params.list.length):et.$message({showClose:!0,type:"error",message:t.data.msg})})},update:function(t,e,a){var s=this;0==t?this.$confirm("此操作将永久删除该数据, 是否继续? 若误删请联系开发人员","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){s.$confirm("删除前请确定此分类下商品已完全删除完！否则会造成数据错乱","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){s.$http.post(s.com.NODE_API+"/ops/productcategory/update",{id:e,isDelete:1},{headers:{token:sessionStorage.getItem("token")},emulateJSON:!0}).then(function(t){t.data.code?(et.$message({showClose:!0,type:"success",message:"删除成功"}),s.getDataList()):et.$message({showClose:!0,type:"error",message:t.data.msg})})})}):1==t&&(this.submitData.name=a,this.submitData.id=e,this.newDialog=!0)},zhiding:function(t){var e=this,a=new Date;this.$http.post(this.com.NODE_API+"/ops/productcategory/update",{id:t,sort:Date.parse(a)},{headers:{token:sessionStorage.getItem("token")},emulateJSON:!0}).then(function(t){t.data.code?(et.$message({showClose:!0,type:"success",message:"置顶成功"}),e.getDataList()):et.$message({showClose:!0,type:"error",message:t.data.msg})})},add:function(){var t=this;this.submitData.id?this.$http.post(this.com.NODE_API+"/ops/productcategory/update",this.submitData,{headers:{token:sessionStorage.getItem("token")},emulateJSON:!0}).then(function(e){e.data.code?(et.$message({showClose:!0,type:"success",message:"更新成功"}),et.getDataList(),t.submitData.name="",t.newDialog=!1):et.$message({showClose:!0,type:"error",message:e.data.msg})}):this.$http.post(this.com.NODE_API+"/ops/productcategory/add",this.submitData,{headers:{token:sessionStorage.getItem("token")},emulateJSON:!0}).then(function(e){e.data.code?(et.$message({showClose:!0,type:"success",message:"添加成功"}),et.getDataList(),t.submitData.name="",t.newDialog=!1):et.$message({showClose:!0,type:"error",message:e.data.msg})})},navTo2:function(t){this.$router.push({path:"/foodsList",query:{id:t,shopId:this.$route.query.id}})}}},ot={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("div",{staticClass:"flexr-start item-center"},[a("el-button",{attrs:{size:"mini",icon:"el-icon-arrow-left",circle:""},on:{click:function(e){t.navTo("/shopList")}}}),t._v(" "),a("h2",{staticClass:"margin-left-shi"},[t._v("商品分类列表")])],1),t._v(" "),a("div",{staticStyle:{"margin-top":"15px","border-bottom":"1px solid #e1e1e1",width:"100%"}}),t._v(" "),a("div",{staticClass:"search-bar"},[t._l(t.searchList,function(e,s){return a("Input",{key:s,staticClass:"il in",attrs:{placeholder:e.label},model:{value:e.value,callback:function(a){t.$set(e,"value",a)},expression:"item.value"}})}),t._v(" "),a("Button",{staticClass:"il",on:{click:function(e){t.clear()}}},[t._v("清空")]),t._v(" "),a("Button",{staticClass:"il",staticStyle:{width:"100px"},attrs:{type:"primary"},on:{click:function(e){t.search()}}},[t._v("搜索")])],2),t._v(" "),a("div",{staticClass:"flexr-between"},[a("ButtonGroup",[a("Button",{on:{click:function(e){t.newDialog=!0,t.submitData.name="",t.submitData.id=""}}},[t._v("添加分类")])],1)],1),t._v(" "),a("el-table",{staticStyle:{width:"100%","margin-top":"15px"},attrs:{data:t.data}},[a("el-table-column",{attrs:{prop:"id",label:"ID"}}),t._v(" "),a("el-table-column",{attrs:{prop:"name",label:"分类名称"}}),t._v(" "),a("el-table-column",{attrs:{label:"操作"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-dropdown",{attrs:{trigger:"click"}},[a("el-button",{staticClass:"el-dropdown-link",attrs:{type:"text"}},[t._v("\n            操作\n            "),a("i",{staticClass:"el-icon-arrow-down el-icon--right"})]),t._v(" "),a("el-dropdown-menu",{attrs:{slot:"dropdown"},slot:"dropdown"},[a("el-dropdown-item",[a("div",{staticStyle:{width:"100px"},on:{click:function(a){t.zhiding(e.row.id)}}},[t._v("置顶")])]),t._v(" "),a("el-dropdown-item",[a("div",{staticStyle:{width:"100px"},on:{click:function(a){t.update(0,e.row.id,e.row.name)}}},[t._v("删除")])]),t._v(" "),a("el-dropdown-item",[a("div",{staticStyle:{width:"100px"},on:{click:function(a){t.update(1,e.row.id,e.row.name)}}},[t._v("编辑")])]),t._v(" "),a("el-dropdown-item",[a("div",{staticStyle:{width:"100px"},on:{click:function(a){t.navTo2(e.row.id)}}},[t._v("商品列表")])])],1)],1)]}}])})],1),t._v(" "),a("div",{staticClass:"flexr-end",staticStyle:{"margin-top":"20px"}},[a("Page",{attrs:{total:t.total,current:1,"page-size":20,"show-total":""}})],1),t._v(" "),a("el-dialog",{attrs:{title:"保存分类",visible:t.newDialog,width:"50%",center:""},on:{"update:visible":function(e){t.newDialog=e}}},[a("Form",{attrs:{model:t.submitData,"label-postion":"top"}},[a("FormItem",{attrs:{label:"分类名称"}},[a("Input",{attrs:{placeholder:"请输入分类名称"},model:{value:t.submitData.name,callback:function(e){t.$set(t.submitData,"name",e)},expression:"submitData.name"}})],1)],1),t._v(" "),a("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(e){t.newDialog=!1}}},[t._v("取 消")]),t._v(" "),a("el-button",{attrs:{type:"primary"},on:{click:function(e){t.newDialog=!1,t.add()}}},[t._v("确 定")])],1)],1)],1)},staticRenderFns:[]};var it,nt=a("C7Lr")(st,ot,!1,function(t){a("W4vk")},null,null).exports,lt={data:function(){return{data:[],total:0,searchList:[{key:"name",value:"",label:"请输入商品名称"}],getDataListquery:{productCategoryId:this.$route.query.id}}},mounted:function(){it=this,this.getDataList()},methods:{navToaddfood:function(t){this.$router.push({path:t,query:{productCategoryId:this.$route.query.id,shopId:this.$route.query.shopId}})},navTo:function(t){this.$router.go(-1)},getDataList:function(){this.$http.post(this.com.NODE_API+"/ops/product/find",this.getDataListquery,{headers:{token:sessionStorage.getItem("token")},emulateJSON:!0}).then(function(t){t.data.code?(it.data=t.data.params.list,it.total=t.data.params.list.length):it.$message({showClose:!0,type:"error",message:t.data.msg})})},update:function(t,e){var a=this;if(0==t)this.$confirm("此操作将永久删除该数据, 是否继续? 若误删请联系开发人员","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){a.$http.post(a.com.NODE_API+"/ops/product/update",{id:e,isDelete:1},{headers:{token:sessionStorage.getItem("token")},emulateJSON:!0}).then(function(t){t.data.code?(it.$message({showClose:!0,type:"success",message:"删除成功"}),a.getDataList()):it.$message({showClose:!0,type:"error",message:t.data.msg})})});else if(1==t){for(var s="",o=0;o<this.data.length;o++)this.data[o].id==e&&(s=this.data[o]);this.$router.push({path:"/addFood",query:{productCategoryId:this.$route.query.id,shopId:this.$route.query.shopId,data:s}})}},changePage:function(t){this.getDataListquery.page=t,this.getDataList()},changeSize:function(t){this.getDataListquery.size=t,this.getDataList()}}},rt={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("div",{staticClass:"flexr-start item-center"},[a("el-button",{attrs:{size:"mini",icon:"el-icon-arrow-left",circle:""},on:{click:function(e){t.navTo("/shopList")}}}),t._v(" "),a("h2",{staticClass:"margin-left-shi"},[t._v("商品列表")])],1),t._v(" "),a("div",{staticStyle:{"margin-top":"15px","border-bottom":"1px solid #e1e1e1",width:"100%"}}),t._v(" "),a("div",{staticClass:"search-bar"},[t._l(t.searchList,function(e,s){return a("Input",{key:s,staticClass:"il in",attrs:{placeholder:e.label},model:{value:e.value,callback:function(a){t.$set(e,"value",a)},expression:"item.value"}})}),t._v(" "),a("Button",{staticClass:"il",on:{click:function(e){t.clear()}}},[t._v("清空")]),t._v(" "),a("Button",{staticClass:"il",staticStyle:{width:"100px"},attrs:{type:"primary"},on:{click:function(e){t.search()}}},[t._v("搜索")])],2),t._v(" "),a("div",{staticClass:"flexr-between"},[a("ButtonGroup",[a("Button",{on:{click:function(e){t.navToaddfood("/addFood")}}},[t._v("添加商品")])],1)],1),t._v(" "),a("el-table",{staticStyle:{width:"100%","margin-top":"15px"},attrs:{data:t.data}},[a("el-table-column",{attrs:{prop:"id",label:"ID"}}),t._v(" "),a("el-table-column",{attrs:{label:"商品图片",width:"100px"},scopedSlots:t._u([{key:"default",fn:function(t){return[a("img",{attrs:{src:t.row.productImage,height:"50px",width:"70px",alt:""}})]}}])}),t._v(" "),a("el-table-column",{attrs:{label:"上架状态"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-tag",{attrs:{type:1==e.row.isShow?"success":"danger","disable-transitions":""}},[t._v(t._s(1==e.row.isShow?"开启":"关闭"))])]}}])}),t._v(" "),a("el-table-column",{attrs:{prop:"productName",label:"商品名称"}}),t._v(" "),a("el-table-column",{attrs:{prop:"discount",label:"商品折扣"}}),t._v(" "),a("el-table-column",{attrs:{prop:"sale",label:"商品销量"}}),t._v(" "),a("el-table-column",{attrs:{label:"餐盒费"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-tag",{attrs:{type:1==e.row.boxPriceFlag?"success":"danger","disable-transitions":""}},[t._v(t._s(1==e.row.boxPriceFlag?"开启":"关闭"))])]}}])}),t._v(" "),a("el-table-column",{attrs:{label:"操作"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-dropdown",{attrs:{trigger:"click"}},[a("el-button",{staticClass:"el-dropdown-link",attrs:{type:"text"}},[t._v("\n            操作\n            "),a("i",{staticClass:"el-icon-arrow-down el-icon--right"})]),t._v(" "),a("el-dropdown-menu",{attrs:{slot:"dropdown"},slot:"dropdown"},[a("el-dropdown-item",[a("div",{staticStyle:{width:"100px"},on:{click:function(a){t.update(0,e.row.id)}}},[t._v("删除")])]),t._v(" "),a("el-dropdown-item",[a("div",{staticStyle:{width:"100px"},on:{click:function(a){t.update(1,e.row.id)}}},[t._v("编辑")])])],1)],1)]}}])})],1),t._v(" "),a("div",{staticClass:"flexr-end",staticStyle:{"margin-top":"20px"}},[a("Page",{attrs:{total:t.total,current:1,"page-size":1e3,"show-total":""},on:{"on-change":t.changePage,"on-page-size-change":t.changeSize}})],1)],1)},staticRenderFns:[]};var ct,dt=a("C7Lr")(lt,rt,!1,function(t){a("Tnw8")},null,null).exports,ut=a("3cXf"),mt=a.n(ut),pt={data:function(){return{guigelist:[],attributeName:[],attributePrice:[],loading:!1,guige:{name:"",price:""},submitData:{productImage:"",productName:"",sale:"",discount:"",boxPriceFlag:!1,isShow:!1,attributeName:"",attributePrice:"",productCategoryId:this.$route.query.productCategoryId,shopId:this.$route.query.shopId,schoolId:sessionStorage.getItem("schoolId")},imgUrl:"",visible:!1,defaultList:[{name:"a42bdcc1178e62b4694c830f028db5c0",url:"https://o5wwk8baw.qnssl.com/a42bdcc1178e62b4694c830f028db5c0/avatar"}],uploadList:[]}},mounted:function(){if(ct=this,this.$route.query.data){this.submitData={id:this.$route.query.data.id,productImage:this.$route.query.data.productImage,productName:this.$route.query.data.productName,sale:this.$route.query.data.sale,discount:this.$route.query.data.discount,boxPriceFlag:1==this.$route.query.data.boxPriceFlag,isShow:1==this.$route.query.data.isShow,attributeName:"",attributePrice:"",productCategoryId:this.$route.query.productCategoryId,shopId:this.$route.query.shopId,schoolId:sessionStorage.getItem("schoolId")};for(var t=0;t<this.$route.query.data.attribute.length;t++)this.attributeName.push(this.$route.query.data.attribute[t].name),this.attributePrice.push(this.$route.query.data.attribute[t].price);this.guigelist=this.$route.query.data.attribute,this.defaultList[0].url=this.$route.query.data.productImage,this.imgUrl=this.$route.query.data.productImage}else this.submitData={productImage:"",productName:"",sale:"",discount:"",boxPriceFlag:!1,isShow:!1,attributeName:"",attributePrice:"",productCategoryId:this.$route.query.productCategoryId,shopId:this.$route.query.shopId,schoolId:sessionStorage.getItem("schoolId")};this.uploadList=this.$refs.upload.fileList},methods:{navTo:function(t){this.$router.go(-1)},addguige:function(){this.attributePrice.push(this.guige.price),this.attributeName.push(this.guige.name),this.guigelist.unshift(JSON.parse(mt()(this.guige))),this.$route.query.data&&this.$http.post(this.com.NODE_API+"/ops/product/adda",{attributeName:this.guige.name,attributePrice:this.guige.price,pid:this.$route.query.data.id},{headers:{token:sessionStorage.getItem("token")},emulateJSON:!0}).then(function(t){t.data.code?ct.$message({showClose:!0,type:"success",message:"添加成功"}):ct.$message({showClose:!0,type:"error",message:t.data.msg})})},shanchulist:function(t,e){for(var a=0;a<this.guigelist.length;a++)this.guigelist[a].name==t&&this.guigelist.splice(a,1);e&&this.$http.post(this.com.NODE_API+"/ops/product/removea",{id:e},{headers:{token:sessionStorage.getItem("token")},emulateJSON:!0}).then(function(t){t.data.code?ct.$message({showClose:!0,type:"success",message:"删除成功"}):ct.$message({showClose:!0,type:"error",message:t.data.msg})})},add:function(){var t=this,e=this;this.loading=!0,this.submitData.isShow=1==this.submitData.isShow?"1":"0",this.submitData.boxPriceFlag=1==this.submitData.boxPriceFlag?"1":"0",this.submitData.attributeName=this.attributeName.toString(),this.submitData.attributePrice=this.attributePrice.toString(),0!=this.guigelist.length?this.$route.query.data?this.$http.post(this.com.NODE_API+"/ops/product/update",this.submitData,{headers:{token:sessionStorage.getItem("token")},emulateJSON:!0}).then(function(a){a.data.code?(e.$message({showClose:!0,type:"success",message:"更新成功"}),t.$router.go(-1)):e.$message({showClose:!0,type:"error",message:a.data.msg}),e.loading=!1}):this.$http.post(this.com.NODE_API+"/ops/product/add",this.submitData,{headers:{token:sessionStorage.getItem("token")},emulateJSON:!0}).then(function(a){a.data.code?(e.$message({showClose:!0,type:"success",message:"添加成功"}),t.$router.go(-1)):e.$message({showClose:!0,type:"error",message:a.data.msg}),e.loading=!1}):(e.$message({showClose:!0,type:"error",message:"规格列表不能为空"}),e.loading=!1)},handleView:function(t){this.imgUrl=t,this.visible=!0},handleRemove:function(t){var e=this.$refs.upload.fileList;this.$refs.upload.fileList.splice(e.indexOf(t),1)},handleSuccess:function(t,e){e.url=t,this.submitData.productImage=t},handleFormatError:function(t){ct.$message({showClose:!0,type:"error",message:"只限于传jpg,jpeg,png三种图片类型"})},handleMaxSize:function(t){ct.$message({showClose:!0,type:"error",message:"上传文件过大，请小于100kb"})}}},ht={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("div",{staticClass:"flexr-start item-center"},[a("el-button",{attrs:{size:"mini",icon:"el-icon-arrow-left",circle:""},on:{click:function(e){t.navTo("/schoolList")}}}),t._v(" "),a("h2",{staticClass:"margin-left-shi"},[t._v("保存商品")])],1),t._v(" "),a("div",{staticStyle:{"margin-top":"15px","border-bottom":"1px solid #e1e1e1",width:"100%"}}),t._v(" "),a("Form",{staticClass:"margin-top-ershi",attrs:{model:t.submitData,"label-postion":"top"}},[a("FormItem",{attrs:{label:"商品图片"}},[t._l(t.uploadList,function(e){return a("div",{key:e.uploadList,staticClass:"demo-upload-list"},["finished"===e.status?[a("img",{attrs:{src:e.url}}),t._v(" "),a("div",{staticClass:"demo-upload-list-cover"},[a("Icon",{attrs:{type:"ios-eye-outline"},nativeOn:{click:function(a){t.handleView(e.url)}}}),t._v(" "),a("Icon",{attrs:{type:"ios-trash-outline"},nativeOn:{click:function(a){t.handleRemove(e)}}})],1)]:[e.showProgress?a("Progress",{attrs:{percent:e.percentage,"hide-info":""}}):t._e()]],2)}),t._v(" "),a("Upload",{ref:"upload",staticStyle:{display:"inline-block",width:"58px"},attrs:{"default-file-list":t.defaultList,"on-success":t.handleSuccess,format:["jpg","jpeg","png"],"max-size":100,"on-format-error":t.handleFormatError,"on-exceeded-size":t.handleMaxSize,"show-upload-list":!1,type:"drag",action:"https://www.chuyinkeji.cn/filesystem/upfile"}},[a("div",{staticStyle:{width:"58px",height:"58px","line-height":"58px"}},[a("Icon",{attrs:{type:"ios-camera",size:"20"}})],1)]),t._v(" "),a("Modal",{attrs:{title:"查看图片"},model:{value:t.visible,callback:function(e){t.visible=e},expression:"visible"}},[t.visible?a("img",{staticStyle:{width:"100%"},attrs:{src:t.imgUrl}}):t._e()])],2),t._v(" "),a("FormItem",{attrs:{label:"商品名称"}},[a("Input",{attrs:{placeholder:"请输入商品名称"},model:{value:t.submitData.productName,callback:function(e){t.$set(t.submitData,"productName",e)},expression:"submitData.productName"}})],1),t._v(" "),a("FormItem",{attrs:{label:"商品销量"}},[a("Input",{attrs:{placeholder:"请输入商品销量"},model:{value:t.submitData.sale,callback:function(e){t.$set(t.submitData,"sale",e)},expression:"submitData.sale"}})],1),t._v(" "),a("FormItem",{attrs:{label:"商品折扣"}},[a("Input",{attrs:{placeholder:"请输入商品折扣"},model:{value:t.submitData.discount,callback:function(e){t.$set(t.submitData,"discount",e)},expression:"submitData.discount"}})],1),t._v(" "),a("div",{staticClass:"flexr-start item-center"},[a("FormItem",{attrs:{label:"计算餐盒费"}},[a("el-switch",{model:{value:t.submitData.boxPriceFlag,callback:function(e){t.$set(t.submitData,"boxPriceFlag",e)},expression:"submitData.boxPriceFlag"}})],1),t._v(" "),a("FormItem",{staticClass:"margin-left-sishi",attrs:{label:"上架状态"}},[a("el-switch",{model:{value:t.submitData.isShow,callback:function(e){t.$set(t.submitData,"isShow",e)},expression:"submitData.isShow"}})],1)],1),t._v(" "),a("Form",{staticClass:"margin-top-ershi",attrs:{model:t.guige,"label-postion":"top"}},[a("div",{staticClass:"flexr-between item-center"},[a("FormItem",{attrs:{label:"规格名称"}},[a("Input",{attrs:{placeholder:"请输入规格名称"},model:{value:t.guige.name,callback:function(e){t.$set(t.guige,"name",e)},expression:"guige.name"}})],1),t._v(" "),a("FormItem",{attrs:{label:"规格价格"}},[a("Input",{attrs:{placeholder:"请输入规格价格"},model:{value:t.guige.price,callback:function(e){t.$set(t.guige,"price",e)},expression:"guige.price"}})],1),t._v(" "),a("el-button",{attrs:{type:"primary"},on:{click:function(e){t.addguige()}}},[t._v("添加")])],1)]),t._v(" "),a("el-table",{staticClass:"flexr-bentwee item-center",staticStyle:{width:"100%","margin-top":"10px"},attrs:{data:t.guigelist}},[a("el-table-column",{attrs:{prop:"name",label:"规格名称"}}),t._v(" "),a("el-table-column",{attrs:{prop:"price",label:"规格价格"}}),t._v(" "),a("el-table-column",{attrs:{label:"操作",width:"100"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-button",{attrs:{size:"small",type:"danger"},on:{click:function(a){t.shanchulist(e.row.name,e.row.id)}}},[t._v("删除")])]}}])})],1),t._v(" "),a("FormItem",[a("Button",{attrs:{type:"primary",loading:t.loading},on:{click:function(e){t.add()}}},[t._v("保存提交")])],1)],1)],1)},staticRenderFns:[]};var gt,vt=a("C7Lr")(pt,ht,!1,function(t){a("ESxl")},null,null).exports,ft={data:function(){return{status:"全部状态",data:[],total:0,searchList:[{key:"name",value:"",label:"请输入商铺名称"}],getDataListquery:{page:1,size:10,typ:"外卖订单",schoolId:sessionStorage.getItem("schoolId")}}},mounted:function(){gt=this,this.getDataList()},methods:{getDataList:function(){this.$http.post(this.com.NODE_API+"/ops/orders/find",this.getDataListquery,{headers:{token:sessionStorage.getItem("token")},emulateJSON:!0}).then(function(t){if(t.data.code){for(var e=0;e<t.data.params.list.length;e++){t.data.params.list[e].foods=[],t.data.params.list[e].senders=[],t.data.params.list[e].createTime=t.data.params.list[e].createTime.substring(0,19);for(var a=0;a<t.data.params.list[e].op.length;a++)t.data.params.list[e].foods.push(t.data.params.list[e].op[a].productName+"("+t.data.params.list[e].op[a].attributeName+"x"+t.data.params.list[e].op[a].productCount+")");switch(0==t.data.params.list[e].waterNumber&&(t.data.params.list[e].waterNumber="未接手"),""==t.data.params.list[e].payment&&(t.data.params.list[e].waterNumber="未付款",t.data.params.list[e].payTime="未付款"),t.data.params.list[e].senderName?t.data.params.list[e].senders.push(t.data.params.list[e].senderName+","+t.data.params.list[e].senderPhone):t.data.params.list[e].senders="配送员未接手",t.data.params.list[e].status){case"待付款":t.data.params.list[e].style="success";break;case"待接手":t.data.params.list[e].style="danger";break;case"商家已接手":case"配送员已接手":t.data.params.list[e].style="";break;case"已完成":t.data.params.list[e].style="warning";break;case"已取消":t.data.params.list[e].style="info"}}gt.data=t.data.params.list,gt.total=t.data.params.total}else gt.$message({showClose:!0,type:"error",message:t.data.msg})})},search:function(){""!=this.searchList[0].value&&"全部状态"!=this.status?(this.getDataListquery={page:1,size:10,typ:"外卖订单",schoolId:sessionStorage.getItem("schoolId"),status:this.status,shopName:this.searchList[0].value},this.getDataList()):""==this.searchList[0].value&&"全部状态"!=this.status?(this.getDataListquery={page:1,size:10,typ:"外卖订单",schoolId:sessionStorage.getItem("schoolId"),status:this.status},this.getDataList()):""!=this.searchList[0].value&&"全部状态"==this.status?(this.getDataListquery={page:1,size:10,typ:"外卖订单",schoolId:sessionStorage.getItem("schoolId"),shopName:this.searchList[0].value},this.getDataList()):(this.getDataListquery={page:1,size:10,typ:"外卖订单",schoolId:sessionStorage.getItem("schoolId")},this.getDataList())},clear:function(){for(var t in this.searchList)this.searchList[t].value=""},handleCommand:function(t){this.status=t,""==this.searchList[0].value&&"全部状态"!=t?(this.getDataListquery={page:1,size:10,typ:"外卖订单",schoolId:sessionStorage.getItem("schoolId"),status:t},this.getDataList()):""==this.searchList[0].value&&"全部状态"==t?(this.getDataListquery={page:1,size:10,typ:"外卖订单",schoolId:sessionStorage.getItem("schoolId")},this.getDataList()):""!=this.searchList[0].value&&"全部状态"!=t?(this.getDataListquery={page:1,size:10,typ:"外卖订单",schoolId:sessionStorage.getItem("schoolId"),status:t,shopName:this.searchList[0].value},this.getDataList()):(this.getDataListquery={page:1,size:10,typ:"外卖订单",schoolId:sessionStorage.getItem("schoolId"),shopName:this.searchList[0].value},this.getDataList())},changePage:function(t){this.getDataListquery.page=t,this.getDataList()},changeSize:function(t){this.getDataListquery.size=t,this.getDataList()}}},bt={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("h2",[t._v("专送订单")]),t._v(" "),a("div",{staticStyle:{"margin-top":"15px","border-bottom":"1px solid #e1e1e1",width:"100%"}}),t._v(" "),a("div",{staticClass:"search-bar"},[a("el-dropdown",{on:{command:t.handleCommand}},[a("el-button",{attrs:{type:"primary"}},[t._v("\n        "+t._s(t.status)),a("i",{staticClass:"el-icon-arrow-down el-icon--right"})]),t._v(" "),a("el-dropdown-menu",{attrs:{slot:"dropdown"},slot:"dropdown"},[a("el-dropdown-item",{attrs:{command:"全部状态"}},[t._v("全部状态")]),t._v(" "),a("el-dropdown-item",{attrs:{command:"待付款"}},[t._v("待付款")]),t._v(" "),a("el-dropdown-item",{attrs:{command:"待接手"}},[t._v("待接手")]),t._v(" "),a("el-dropdown-item",{attrs:{command:"商家已接手"}},[t._v("商家已接手")]),t._v(" "),a("el-dropdown-item",{attrs:{command:"配送员已接手"}},[t._v("配送员已接手")]),t._v(" "),a("el-dropdown-item",{attrs:{command:"已完成"}},[t._v("已完成")]),t._v(" "),a("el-dropdown-item",{attrs:{command:"已取消"}},[t._v("已取消")])],1)],1),t._v(" "),t._l(t.searchList,function(e,s){return a("Input",{key:s,staticClass:"il in",attrs:{placeholder:e.label},model:{value:e.value,callback:function(a){t.$set(e,"value",a)},expression:"item.value"}})}),t._v(" "),a("Button",{staticClass:"il",on:{click:function(e){t.clear()}}},[t._v("清空")]),t._v(" "),a("Button",{staticClass:"il",staticStyle:{width:"100px"},attrs:{type:"primary"},on:{click:function(e){t.search()}}},[t._v("搜索")])],2),t._v(" "),a("el-table",{staticStyle:{width:"100%","margin-top":"15px"},attrs:{data:t.data}},[a("el-table-column",{attrs:{fixed:"",prop:"id",label:"ID",width:"60"}}),t._v(" "),a("el-table-column",{attrs:{fixed:"",prop:"waterNumber",label:"流水号"}}),t._v(" "),a("el-table-column",{attrs:{prop:"status",label:"状态",width:"100"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-tag",{attrs:{type:e.row.style,"disable-transitions":""}},[t._v(t._s(e.row.status))])]}}])}),t._v(" "),a("el-table-column",{attrs:{fixed:"",prop:"createTime",label:"下单时间"}}),t._v(" "),a("el-table-column",{attrs:{fixed:"",prop:"shopName",label:"商铺名称"}}),t._v(" "),a("el-table-column",{attrs:{fixed:"",prop:"payPrice",label:"订单总额"}}),t._v(" "),a("el-table-column",{attrs:{fixed:"",prop:"foods",label:"商品详情"}}),t._v(" "),a("el-table-column",{attrs:{fixed:"",prop:"addressName",label:"用户姓名"}}),t._v(" "),a("el-table-column",{attrs:{fixed:"",prop:"addressPhone",label:"用户电话"}}),t._v(" "),a("el-table-column",{attrs:{fixed:"",prop:"addressDetail",label:"用户地址"}}),t._v(" "),a("el-table-column",{attrs:{fixed:"",prop:"senders",label:"配送员",width:"70"}})],1),t._v(" "),a("div",{staticClass:"flexr-end",staticStyle:{"margin-top":"20px"}},[a("Page",{attrs:{total:t.total,current:t.getDataListquery.page,"page-size":t.getDataListquery.size,"show-sizer":"","show-total":""},on:{"on-change":t.changePage,"on-page-size-change":t.changeSize}})],1)],1)},staticRenderFns:[]};var wt,_t=a("C7Lr")(ft,bt,!1,function(t){a("z7IK")},null,null).exports,yt={data:function(){return{status:"全部状态",data:[],total:0,searchList:[{key:"name",value:"",label:"请输入商铺名称"}],getDataListquery:{page:1,size:10,typ:"堂食订单",schoolId:sessionStorage.getItem("schoolId")}}},mounted:function(){wt=this,this.getDataList()},methods:{getDataList:function(){this.$http.post(this.com.NODE_API+"/ops/orders/find",this.getDataListquery,{headers:{token:sessionStorage.getItem("token")},emulateJSON:!0}).then(function(t){if(t.data.code){for(var e=0;e<t.data.params.list.length;e++){t.data.params.list[e].foods=[],t.data.params.list[e].createTime=t.data.params.list[e].createTime.substring(0,19);for(var a=0;a<t.data.params.list[e].op.length;a++)t.data.params.list[e].foods.push(t.data.params.list[e].op[a].productName+"("+t.data.params.list[e].op[a].attributeName+"x"+t.data.params.list[e].op[a].productCount+")");switch(0==t.data.params.list[e].waterNumber&&(t.data.params.list[e].waterNumber="未接手"),""==t.data.params.list[e].payment&&(t.data.params.list[e].waterNumber="未付款",t.data.params.list[e].payTime="未付款"),t.data.params.list[e].status){case"待付款":t.data.params.list[e].style="success";break;case"待接手":t.data.params.list[e].style="danger";break;case"商家已接手":case"配送员已接手":t.data.params.list[e].style="";break;case"已完成":t.data.params.list[e].style="warning";break;case"已取消":t.data.params.list[e].style="info"}}wt.data=t.data.params.list,wt.total=t.data.params.total}else wt.$message({showClose:!0,type:"error",message:t.data.msg})})},search:function(){""!=this.searchList[0].value&&"全部状态"!=this.status?(this.getDataListquery={page:1,size:10,typ:"堂食订单",schoolId:sessionStorage.getItem("schoolId"),status:this.status,shopName:this.searchList[0].value},this.getDataList()):""==this.searchList[0].value&&"全部状态"!=this.status?(this.getDataListquery={page:1,size:10,typ:"堂食订单",schoolId:sessionStorage.getItem("schoolId"),status:this.status},this.getDataList()):""!=this.searchList[0].value&&"全部状态"==this.status?(this.getDataListquery={page:1,size:10,typ:"堂食订单",schoolId:sessionStorage.getItem("schoolId"),shopName:this.searchList[0].value},this.getDataList()):(this.getDataListquery={page:1,size:10,typ:"堂食订单",schoolId:sessionStorage.getItem("schoolId")},this.getDataList())},clear:function(){for(var t in this.searchList)this.searchList[t].value="";this.getDataList()},update:function(t,e){var a=this;0==t&&this.$confirm("确定强制完成此订单？","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){a.$http.post(a.com.NODE_API+"/ops/sender/nocheck/senderend",{orderId:e,senderId:"0987654321",end:!0},{headers:{token:sessionStorage.getItem("token")},emulateJSON:!0}).then(function(t){t.data.code?a.getDataList():wt.$message({showClose:!0,type:"error",message:t.data.msg})})})},handleCommand:function(t){this.status=t,""==this.searchList[0].value&&"全部状态"!=t?(this.getDataListquery={page:1,size:10,typ:"堂食订单",schoolId:sessionStorage.getItem("schoolId"),status:t},this.getDataList()):""==this.searchList[0].value&&"全部状态"==t?(this.getDataListquery={page:1,size:10,typ:"堂食订单",schoolId:sessionStorage.getItem("schoolId")},this.getDataList()):""!=this.searchList[0].value&&"全部状态"!=t?(this.getDataListquery={page:1,size:10,typ:"堂食订单",schoolId:sessionStorage.getItem("schoolId"),status:t,shopName:this.searchList[0].value},this.getDataList()):(this.getDataListquery={page:1,size:10,typ:"堂食订单",schoolId:sessionStorage.getItem("schoolId"),shopName:this.searchList[0].value},this.getDataList())},changePage:function(t){this.getDataListquery.page=t,this.getDataList()},changeSize:function(t){this.getDataListquery.size=t,this.getDataList()}}},xt={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("h2",[t._v("自取订单")]),t._v(" "),a("div",{staticStyle:{"margin-top":"15px","border-bottom":"1px solid #e1e1e1",width:"100%"}}),t._v(" "),a("div",{staticClass:"search-bar"},[a("el-dropdown",{on:{command:t.handleCommand}},[a("el-button",{attrs:{type:"primary"}},[t._v("\n        "+t._s(t.status)),a("i",{staticClass:"el-icon-arrow-down el-icon--right"})]),t._v(" "),a("el-dropdown-menu",{attrs:{slot:"dropdown"},slot:"dropdown"},[a("el-dropdown-item",{attrs:{command:"全部状态"}},[t._v("全部状态")]),t._v(" "),a("el-dropdown-item",{attrs:{command:"待付款"}},[t._v("待付款")]),t._v(" "),a("el-dropdown-item",{attrs:{command:"待接手"}},[t._v("待接手")]),t._v(" "),a("el-dropdown-item",{attrs:{command:"商家已接手"}},[t._v("商家已接手")]),t._v(" "),a("el-dropdown-item",{attrs:{command:"配送员已接手"}},[t._v("配送员已接手")]),t._v(" "),a("el-dropdown-item",{attrs:{command:"已完成"}},[t._v("已完成")]),t._v(" "),a("el-dropdown-item",{attrs:{command:"已取消"}},[t._v("已取消")])],1)],1),t._v(" "),t._l(t.searchList,function(e,s){return a("Input",{key:s,staticClass:"il in",attrs:{placeholder:e.label},model:{value:e.value,callback:function(a){t.$set(e,"value",a)},expression:"item.value"}})}),t._v(" "),a("Button",{staticClass:"il",on:{click:function(e){t.clear()}}},[t._v("清空")]),t._v(" "),a("Button",{staticClass:"il",staticStyle:{width:"100px"},attrs:{type:"primary"},on:{click:function(e){t.search()}}},[t._v("搜索")])],2),t._v(" "),a("el-table",{staticStyle:{width:"100%","margin-top":"15px"},attrs:{data:t.data}},[a("el-table-column",{attrs:{fixed:"",prop:"id",label:"ID",width:"60"}}),t._v(" "),a("el-table-column",{attrs:{fixed:"",prop:"waterNumber",label:"流水号"}}),t._v(" "),a("el-table-column",{attrs:{prop:"status",label:"状态",width:"100"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-tag",{attrs:{type:e.row.style,"disable-transitions":""}},[t._v(t._s(e.row.status))])]}}])}),t._v(" "),a("el-table-column",{attrs:{fixed:"",prop:"createTime",label:"下单时间"}}),t._v(" "),a("el-table-column",{attrs:{fixed:"",prop:"shopName",label:"商铺名称"}}),t._v(" "),a("el-table-column",{attrs:{fixed:"",prop:"payPrice",label:"订单总额"}}),t._v(" "),a("el-table-column",{attrs:{fixed:"",prop:"foods",label:"商品详情",width:"120"}}),t._v(" "),a("el-table-column",{attrs:{fixed:"",prop:"addressName",label:"用户姓名"}}),t._v(" "),a("el-table-column",{attrs:{fixed:"",prop:"addressPhone",label:"用户电话"}}),t._v(" "),a("el-table-column",{attrs:{fixed:"",prop:"addressDetail",label:"用户地址"}}),t._v(" "),a("el-table-column",{attrs:{label:"操作"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-dropdown",{attrs:{trigger:"click"}},[a("el-button",{staticClass:"el-dropdown-link",attrs:{type:"text"}},[t._v("\n            操作\n            "),a("i",{staticClass:"el-icon-arrow-down el-icon--right"})]),t._v(" "),a("el-dropdown-menu",{attrs:{slot:"dropdown"},slot:"dropdown"},[a("el-dropdown-item",["商家已接手"==e.row.status?a("div",{staticStyle:{width:"100px"},on:{click:function(a){t.update(0,e.row.id)}}},[t._v("强制完成")]):t._e()])],1)],1)]}}])})],1),t._v(" "),a("div",{staticClass:"flexr-end",staticStyle:{"margin-top":"20px"}},[a("Page",{attrs:{total:t.total,current:t.getDataListquery.page,"page-size":t.getDataListquery.size,"show-sizer":"","show-total":""},on:{"on-change":t.changePage,"on-page-size-change":t.changeSize}})],1)],1)},staticRenderFns:[]};var It,Dt=a("C7Lr")(yt,xt,!1,function(t){a("660i")},null,null).exports,kt={data:function(){return{status:"全部状态",data:[],total:0,searchList:[{key:"name",value:"",label:"请输入用户手机号"}],getDataListquery:{page:1,size:10,schoolId:sessionStorage.getItem("schoolId")}}},mounted:function(){It=this,this.getDataList()},methods:{getDataList:function(){this.$http.post(this.com.NODE_API+"/ops/runorders/find",this.getDataListquery,{headers:{token:sessionStorage.getItem("token")},emulateJSON:!0}).then(function(t){if(t.data.code){for(var e=0;e<t.data.params.list.length;e++)switch(t.data.params.list[e].senders=[],""==t.data.params.list[e].payment&&(t.data.params.list[e].payTime="未付款"),t.data.params.list[e].senderName?t.data.params.list[e].senders.push(t.data.params.list[e].senderName+","+t.data.params.list[e].senderPhone):t.data.params.list[e].senders="配送员未接手",t.data.params.list[e].status){case"待付款":t.data.params.list[e].style="success";break;case"待接手":t.data.params.list[e].style="danger";break;case"商家已接手":case"配送员已接手":t.data.params.list[e].style="";break;case"已完成":t.data.params.list[e].style="warning";break;case"已取消":t.data.params.list[e].style="info"}It.data=t.data.params.list,It.total=t.data.params.total}else It.$message({showClose:!0,type:"error",message:t.data.msg})})},search:function(){},clear:function(){for(var t in this.searchList)this.searchList[t].value=""},handleCommand:function(t){this.status=t,"全部状态"!=t?(this.getDataListquery={page:1,size:10,schoolId:sessionStorage.getItem("schoolId"),status:t},this.getDataList()):(this.getDataListquery={page:1,size:10,schoolId:sessionStorage.getItem("schoolId")},this.getDataList())},changePage:function(t){this.getDataListquery.page=t,this.getDataList()},changeSize:function(t){this.getDataListquery.size=t,this.getDataList()}}},St={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("h2",[t._v("跑腿订单")]),t._v(" "),a("div",{staticStyle:{"margin-top":"15px","border-bottom":"1px solid #e1e1e1",width:"100%"}}),t._v(" "),a("div",{staticClass:"search-bar"},[a("el-dropdown",{on:{command:t.handleCommand}},[a("el-button",{attrs:{type:"primary"}},[t._v("\n        "+t._s(t.status)),a("i",{staticClass:"el-icon-arrow-down el-icon--right"})]),t._v(" "),a("el-dropdown-menu",{attrs:{slot:"dropdown"},slot:"dropdown"},[a("el-dropdown-item",{attrs:{command:"全部状态"}},[t._v("全部状态")]),t._v(" "),a("el-dropdown-item",{attrs:{command:"待付款"}},[t._v("待付款")]),t._v(" "),a("el-dropdown-item",{attrs:{command:"待接手"}},[t._v("待接手")]),t._v(" "),a("el-dropdown-item",{attrs:{command:"商家已接手"}},[t._v("商家已接手")]),t._v(" "),a("el-dropdown-item",{attrs:{command:"配送员已接手"}},[t._v("配送员已接手")]),t._v(" "),a("el-dropdown-item",{attrs:{command:"已完成"}},[t._v("已完成")]),t._v(" "),a("el-dropdown-item",{attrs:{command:"已取消"}},[t._v("已取消")])],1)],1),t._v(" "),t._l(t.searchList,function(e,s){return a("Input",{key:s,staticClass:"il in",attrs:{placeholder:e.label},model:{value:e.value,callback:function(a){t.$set(e,"value",a)},expression:"item.value"}})}),t._v(" "),a("Button",{staticClass:"il",on:{click:function(e){t.clear()}}},[t._v("清空")]),t._v(" "),a("Button",{staticClass:"il",staticStyle:{width:"100px"},attrs:{type:"primary"},on:{click:function(e){t.search()}}},[t._v("搜索")])],2),t._v(" "),a("el-table",{staticStyle:{width:"100%","margin-top":"15px"},attrs:{data:t.data}},[a("el-table-column",{attrs:{fixed:"",prop:"id",label:"ID",width:"60"}}),t._v(" "),a("el-table-column",{attrs:{prop:"status",label:"状态",width:"100"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-tag",{attrs:{type:e.row.style,"disable-transitions":""}},[t._v(t._s(e.row.status))])]}}])}),t._v(" "),a("el-table-column",{attrs:{fixed:"",prop:"createTime",label:"下单时间"}}),t._v(" "),a("el-table-column",{attrs:{fixed:"",prop:"totalPrice",label:"订单总额"}}),t._v(" "),a("el-table-column",{attrs:{fixed:"",prop:"content",label:"跑腿详情"}}),t._v(" "),a("el-table-column",{attrs:{fixed:"",prop:"remark",label:"跑腿备注"}}),t._v(" "),a("el-table-column",{attrs:{fixed:"",prop:"addressName",label:"用户姓名"}}),t._v(" "),a("el-table-column",{attrs:{fixed:"",prop:"addressPhone",label:"用户电话",width:"120"}}),t._v(" "),a("el-table-column",{attrs:{fixed:"",prop:"addressDetail",label:"用户地址"}}),t._v(" "),a("el-table-column",{attrs:{fixed:"",prop:"senders",label:"配送员",width:"70"}})],1),t._v(" "),a("div",{staticClass:"flexr-end",staticStyle:{"margin-top":"20px"}},[a("Page",{attrs:{total:t.total,current:t.getDataListquery.page,"page-size":t.getDataListquery.size,"show-sizer":"","show-total":""},on:{"on-change":t.changePage,"on-page-size-change":t.changeSize}})],1)],1)},staticRenderFns:[]};var Lt,$t=a("C7Lr")(kt,St,!1,function(t){a("Yip9")},null,null).exports,Ct={data:function(){return{data:[],data2:{version:0},total:0,getDataListquery:{},submitData:{full:"",send:""},newDialog:!1}},mounted:function(){Lt=this,this.getDataList()},methods:{getDataList:function(){this.$http.post(this.com.NODE_API+"/ops/charge/find",this.getDataListquery,{headers:{token:sessionStorage.getItem("token")},emulateJSON:!0}).then(function(t){t.data.code?(Lt.data=t.data.params.list,Lt.total=t.data.params.list.length):Lt.$message({showClose:!0,type:"error",message:t.data.msg})})},update:function(t,e){var a=this;0==t&&this.$confirm("此操作将永久删除该数据, 是否继续? 若误删请联系开发人员","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){a.$http.post(a.com.NODE_API+"/ops/charge/remove",{id:e},{headers:{token:sessionStorage.getItem("token")},emulateJSON:!0}).then(function(t){t.data.code?(Lt.$message({showClose:!0,type:"success",message:"删除成功"}),a.getDataList()):Lt.$message({showClose:!0,type:"error",message:t.data.msg})})})},add:function(){var t=this;this.$http.post(this.com.NODE_API+"/ops/charge/add",this.submitData,{headers:{token:sessionStorage.getItem("token")},emulateJSON:!0}).then(function(e){e.data.code?(Lt.$message({showClose:!0,type:"success",message:"添加成功"}),Lt.getDataList(),t.submitData.full="",t.submitData.send="",t.newDialog=!1):Lt.$message({showClose:!0,type:"error",message:e.data.msg})})},add2:function(){this.$http.get(this.com.NODE_API+"/ops/application/setversion",this.data2,{headers:{token:sessionStorage.getItem("token")},emulateJSON:!0}).then(function(t){t.data.code?Lt.$message({showClose:!0,type:"success",message:"修改成功"}):Lt.$message({showClose:!0,type:"error",message:t.data.msg})})}}},Pt={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("h2",[t._v("充值列表")]),t._v(" "),a("div",{staticStyle:{"margin-top":"15px","border-bottom":"1px solid #e1e1e1",width:"100%"}}),t._v(" "),a("div",{staticClass:"flexr-between margin-top-ershi"},[a("ButtonGroup",[a("Button",{on:{click:function(e){t.newDialog=!0}}},[t._v("添加充值")])],1)],1),t._v(" "),a("Form",{staticClass:"margin-top-ershi",attrs:{model:t.data2,"label-postion":"top"}},[a("FormItem",{attrs:{label:"版本号设置"}},[a("Input",{model:{value:t.data2.version,callback:function(e){t.$set(t.data2,"version",e)},expression:"data2.version"}})],1)],1),t._v(" "),a("el-button",{attrs:{type:"primary"},on:{click:function(e){t.add2()}}},[t._v("确 定")]),t._v(" "),a("el-table",{staticStyle:{width:"100%","margin-top":"15px"},attrs:{data:t.data}},[a("el-table-column",{attrs:{prop:"id",label:"ID"}}),t._v(" "),a("el-table-column",{attrs:{prop:"full",label:"充值额度"}}),t._v(" "),a("el-table-column",{attrs:{prop:"send",label:"送的额度"}}),t._v(" "),a("el-table-column",{attrs:{label:"操作"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-dropdown",{attrs:{trigger:"click"}},[a("el-button",{staticClass:"el-dropdown-link",attrs:{type:"text"}},[t._v("\n            操作\n            "),a("i",{staticClass:"el-icon-arrow-down el-icon--right"})]),t._v(" "),a("el-dropdown-menu",{attrs:{slot:"dropdown"},slot:"dropdown"},[a("el-dropdown-item",[a("div",{staticStyle:{width:"100px"},on:{click:function(a){t.update(0,e.row.id)}}},[t._v("删除")])])],1)],1)]}}])})],1),t._v(" "),a("div",{staticClass:"flexr-end",staticStyle:{"margin-top":"20px"}},[a("Page",{attrs:{total:t.total,current:1,"page-size":1e3,"show-total":""}})],1),t._v(" "),a("el-dialog",{attrs:{title:"添加充值",visible:t.newDialog,width:"300px",center:""},on:{"update:visible":function(e){t.newDialog=e}}},[a("Form",{attrs:{model:t.submitData,"label-postion":"top"}},[a("FormItem",{attrs:{label:"充值额度"}},[a("Input",{attrs:{placeholder:"请输入充值额度"},model:{value:t.submitData.full,callback:function(e){t.$set(t.submitData,"full",e)},expression:"submitData.full"}})],1),t._v(" "),a("FormItem",{attrs:{label:"送的额度"}},[a("Input",{attrs:{placeholder:"请输入送的额度"},model:{value:t.submitData.send,callback:function(e){t.$set(t.submitData,"send",e)},expression:"submitData.send"}})],1)],1),t._v(" "),a("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(e){t.newDialog=!1}}},[t._v("取 消")]),t._v(" "),a("el-button",{attrs:{type:"primary"},on:{click:function(e){t.newDialog=!1,t.add()}}},[t._v("确 定")])],1)],1)],1)},staticRenderFns:[]};var Nt,zt=a("C7Lr")(Ct,Pt,!1,function(t){a("/TwK")},null,null).exports,qt={data:function(){return{data:[],total:0,getDataListquery:{schoolId:sessionStorage.getItem("schoolId")},submitData:{image:"",path:"",schoolId:sessionStorage.getItem("schoolId")},imgUrl:"",visible:!1,defaultList:[{name:"a42bdcc1178e62b4694c830f028db5c0",url:"https://o5wwk8baw.qnssl.com/a42bdcc1178e62b4694c830f028db5c0/avatar"}],uploadList:[]}},mounted:function(){Nt=this,this.uploadList=this.$refs.upload.fileList,this.getDataList()},methods:{getDataList:function(){this.$http.post(this.com.NODE_API+"/ops/slide/find",this.getDataListquery,{headers:{token:sessionStorage.getItem("token")},emulateJSON:!0}).then(function(t){t.data.code?(Nt.data=t.data.params.list,Nt.total=t.data.params.list.length):Nt.$message({showClose:!0,type:"error",message:t.data.msg})})},update:function(t,e){var a=this;0==t&&this.$confirm("此操作将永久删除该数据, 是否继续? 若误删请联系开发人员","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){a.$http.post(a.com.NODE_API+"/ops/slide/update",{id:e,isDelete:1},{headers:{token:sessionStorage.getItem("token")},emulateJSON:!0}).then(function(t){t.data.code?(Nt.$message({showClose:!0,type:"success",message:"删除成功"}),a.getDataList()):Nt.$message({showClose:!0,type:"error",message:t.data.msg})})})},handleView:function(t){this.imgUrl=t,this.visible=!0},handleRemove:function(t){var e=this.$refs.upload.fileList;this.$refs.upload.fileList.splice(e.indexOf(t),1)},handleSuccess:function(t,e){e.url=t,this.submitData.image=t},handleFormatError:function(t){Nt.$message({showClose:!0,type:"error",message:"只限于传jpg,jpeg,png三种图片类型"})},handleMaxSize:function(t){Nt.$message({showClose:!0,type:"error",message:"上传文件过大，请小于100kb"})},add:function(){var t=this;this.$http.post(this.com.NODE_API+"/ops/slide/add",this.submitData,{headers:{token:sessionStorage.getItem("token")},emulateJSON:!0}).then(function(e){e.data.code?(Nt.$message({showClose:!0,type:"success",message:"添加成功"}),t.$router.push({path:"/supplierAllBack"})):Nt.$message({showClose:!0,type:"error",message:e.data.msg})})}}},Ft={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("h2",[t._v("轮播图管理")]),t._v(" "),a("div",{staticStyle:{"margin-top":"15px","border-bottom":"1px solid #e1e1e1",width:"100%"}}),t._v(" "),a("h3",{staticClass:"margin-top-ershi"},[t._v("添加轮播图")]),t._v(" "),a("Form",{staticClass:"margin-top-ershi",attrs:{model:t.submitData,"label-postion":"top"}},[a("FormItem",{attrs:{label:"轮播图图片"}},[t._l(t.uploadList,function(e){return a("div",{key:e.uploadList,staticClass:"demo-upload-list"},["finished"===e.status?[a("img",{attrs:{src:e.url}}),t._v(" "),a("div",{staticClass:"demo-upload-list-cover"},[a("Icon",{attrs:{type:"ios-eye-outline"},nativeOn:{click:function(a){t.handleView(e.url)}}}),t._v(" "),a("Icon",{attrs:{type:"ios-trash-outline"},nativeOn:{click:function(a){t.handleRemove(e)}}})],1)]:[e.showProgress?a("Progress",{attrs:{percent:e.percentage,"hide-info":""}}):t._e()]],2)}),t._v(" "),a("Upload",{ref:"upload",staticStyle:{display:"inline-block",width:"58px"},attrs:{"default-file-list":t.defaultList,"on-success":t.handleSuccess,format:["jpg","jpeg","png"],"max-size":100,"on-format-error":t.handleFormatError,"on-exceeded-size":t.handleMaxSize,"show-upload-list":!1,type:"drag",action:"https://www.chuyinkeji.cn/filesystem/upfile"}},[a("div",{staticStyle:{width:"58px",height:"58px","line-height":"58px"}},[a("Icon",{attrs:{type:"ios-camera",size:"20"}})],1)]),t._v(" "),a("Modal",{attrs:{title:"查看图片"},model:{value:t.visible,callback:function(e){t.visible=e},expression:"visible"}},[t.visible?a("img",{staticStyle:{width:"100%"},attrs:{src:t.imgUrl}}):t._e()])],2),t._v(" "),a("FormItem",{attrs:{label:"跳转路径"}},[a("Input",{attrs:{placeholder:"请输入分类名称"},model:{value:t.submitData.path,callback:function(e){t.$set(t.submitData,"path",e)},expression:"submitData.path"}})],1)],1),t._v(" "),a("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{attrs:{type:"primary"},on:{click:function(e){t.add()}}},[t._v("添 加")])],1),t._v(" "),a("h3",{staticClass:"margin-top-sanshi"},[t._v("轮播图列表")]),t._v(" "),a("el-table",{staticStyle:{width:"100%","margin-top":"15px"},attrs:{data:t.data}},[a("el-table-column",{attrs:{prop:"id",label:"ID"}}),t._v(" "),a("el-table-column",{attrs:{label:"轮播图图片"},scopedSlots:t._u([{key:"default",fn:function(t){return[a("img",{attrs:{src:t.row.image,height:"50px",width:"200px",alt:""}})]}}])}),t._v(" "),a("el-table-column",{attrs:{prop:"path",label:"跳转路径"}}),t._v(" "),a("el-table-column",{attrs:{label:"操作"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-dropdown",{attrs:{trigger:"click"}},[a("el-button",{staticClass:"el-dropdown-link",attrs:{type:"text"}},[t._v("\n            操作\n            "),a("i",{staticClass:"el-icon-arrow-down el-icon--right"})]),t._v(" "),a("el-dropdown-menu",{attrs:{slot:"dropdown"},slot:"dropdown"},[a("el-dropdown-item",[a("div",{staticStyle:{width:"100px"},on:{click:function(a){t.update(0,e.row.id)}}},[t._v("删除")])])],1)],1)]}}])})],1),t._v(" "),a("div",{staticClass:"flexr-end",staticStyle:{"margin-top":"20px"}},[a("Page",{attrs:{total:t.total,current:1,"page-size":1e4,"show-sizer":"","show-total":""}})],1)],1)},staticRenderFns:[]};var Ot,Tt=a("C7Lr")(qt,Ft,!1,function(t){a("4x51")},null,null).exports,At={render:function(){var t=this.$createElement;return(this._self._c||t)("div")},staticRenderFns:[]},Et=a("C7Lr")({data:function(){return this.$router.push({path:"/sliderList"}),{}},methods:{}},At,!1,null,null,null).exports,Bt={render:function(){var t=this.$createElement;return(this._self._c||t)("div")},staticRenderFns:[]},Jt=a("C7Lr")({data:function(){return this.$router.push({path:"/settingSchool"}),{}},methods:{}},Bt,!1,null,null,null).exports,Mt={data:function(){return{data:[],total:0,searchList:[{key:"name",value:"",label:"请输入商品名称"}],getDataListquery:{page:1,size:10,schoolId:sessionStorage.getItem("surperId")}}},mounted:function(){Ot=this,this.getDataList()},methods:{navToaddJiFen:function(t){this.$router.push({path:t})},getDataList:function(){this.$http.post(this.com.NODE_API+"/ops/source/product/find",this.getDataListquery,{headers:{token:sessionStorage.getItem("token")},emulateJSON:!0}).then(function(t){t.data.code?(Ot.data=t.data.params.list,Ot.total=t.data.params.list.length):Ot.$message({showClose:!0,type:"error",message:t.data.msg})})},update:function(t,e){var a=this;if(0==t)this.$confirm("此操作将永久删除该数据, 是否继续? 若误删请联系开发人员","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){a.$http.post(a.com.NODE_API+"/ops/source/product/update",{id:e,isDelete:1},{headers:{token:sessionStorage.getItem("token")},emulateJSON:!0}).then(function(t){t.data.code?(Ot.$message({showClose:!0,type:"success",message:"删除成功"}),a.getDataList()):Ot.$message({showClose:!0,type:"error",message:t.data.msg})})});else if(1==t){for(var s="",o=0;o<this.data.length;o++)this.data[o].id==e&&(s=this.data[o]);this.$router.push({path:"/addJiFen",query:{data:s}})}},changePage:function(t){this.getDataListquery.page=t,this.getDataList()},changeSize:function(t){this.getDataListquery.size=t,this.getDataList()}}},jt={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("h2",[t._v("积分商品列表")]),t._v(" "),a("div",{staticStyle:{"margin-top":"15px","border-bottom":"1px solid #e1e1e1",width:"100%"}}),t._v(" "),a("div",{staticClass:"search-bar"},[t._l(t.searchList,function(e,s){return a("Input",{key:s,staticClass:"il in",attrs:{placeholder:e.label},model:{value:e.value,callback:function(a){t.$set(e,"value",a)},expression:"item.value"}})}),t._v(" "),a("Button",{staticClass:"il",on:{click:function(e){t.clear()}}},[t._v("清空")]),t._v(" "),a("Button",{staticClass:"il",staticStyle:{width:"100px"},attrs:{type:"primary"},on:{click:function(e){t.search()}}},[t._v("搜索")])],2),t._v(" "),a("div",{staticClass:"flexr-between"},[a("ButtonGroup",[a("Button",{on:{click:function(e){t.navToaddJiFen("/addJiFen")}}},[t._v("添加积分商品")])],1)],1),t._v(" "),a("el-table",{staticStyle:{width:"100%","margin-top":"15px"},attrs:{data:t.data}},[a("el-table-column",{attrs:{prop:"id",label:"ID",width:"100px"}}),t._v(" "),a("el-table-column",{attrs:{label:"商品图片"},scopedSlots:t._u([{key:"default",fn:function(t){return[a("img",{attrs:{src:t.row.productImage,height:"50px",width:"70px",alt:""}})]}}])}),t._v(" "),a("el-table-column",{attrs:{label:"上架状态"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-tag",{attrs:{type:1==e.row.isShow?"success":"danger","disable-transitions":""}},[t._v(t._s(1==e.row.isShow?"开启":"关闭"))])]}}])}),t._v(" "),a("el-table-column",{attrs:{prop:"productName",label:"商品名称"}}),t._v(" "),a("el-table-column",{attrs:{prop:"sale",label:"商品销量"}}),t._v(" "),a("el-table-column",{attrs:{label:"操作"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-dropdown",{attrs:{trigger:"click"}},[a("el-button",{staticClass:"el-dropdown-link",attrs:{type:"text"}},[t._v("\n            操作\n            "),a("i",{staticClass:"el-icon-arrow-down el-icon--right"})]),t._v(" "),a("el-dropdown-menu",{attrs:{slot:"dropdown"},slot:"dropdown"},[a("el-dropdown-item",[a("div",{staticStyle:{width:"100px"},on:{click:function(a){t.update(0,e.row.id)}}},[t._v("删除")])]),t._v(" "),a("el-dropdown-item",[a("div",{staticStyle:{width:"100px"},on:{click:function(a){t.update(1,e.row.id)}}},[t._v("编辑")])])],1)],1)]}}])})],1),t._v(" "),a("div",{staticClass:"flexr-end",staticStyle:{"margin-top":"20px"}},[a("Page",{attrs:{total:t.total,current:1,"page-size":1e3,"show-total":""},on:{"on-change":t.changePage,"on-page-size-change":t.changeSize}})],1)],1)},staticRenderFns:[]};var Rt,Wt=a("C7Lr")(Mt,jt,!1,function(t){a("V/ld")},null,null).exports,Gt={data:function(){return{loading:!1,submitData:{productImage:"",productName:"",sale:"",isShow:!1,price:"",schoolId:sessionStorage.getItem("surperId")},imgUrl:"",visible:!1,defaultList:[{name:"a42bdcc1178e62b4694c830f028db5c0",url:"https://o5wwk8baw.qnssl.com/a42bdcc1178e62b4694c830f028db5c0/avatar"}],uploadList:[]}},mounted:function(){Rt=this,this.$route.query.data?(this.submitData={id:this.$route.query.data.id,productImage:this.$route.query.data.productImage,productName:this.$route.query.data.productName,sale:this.$route.query.data.sale,isShow:1==this.$route.query.data.isShow,price:this.$route.query.data.price,schoolId:sessionStorage.getItem("surperId")},this.defaultList[0].url=this.$route.query.data.productImage,this.imgUrl=this.$route.query.data.productImage):this.submitData={productImage:"",productName:"",sale:"",isShow:!1,price:"",schoolId:sessionStorage.getItem("surperId")},this.uploadList=this.$refs.upload.fileList},methods:{navTo:function(t){this.$router.go(-1)},add:function(){var t=this,e=this;this.loading=!0,this.submitData.isShow=1==this.submitData.isShow?"1":"0",this.$route.query.data?this.$http.post(this.com.NODE_API+"/ops/source/product/update",this.submitData,{headers:{token:sessionStorage.getItem("token")},emulateJSON:!0}).then(function(a){a.data.code?(e.$message({showClose:!0,type:"success",message:"更新成功"}),t.$router.go(-1)):e.$message({showClose:!0,type:"error",message:a.data.msg}),e.loading=!1}):this.$http.post(this.com.NODE_API+"/ops/source/product/add",this.submitData,{headers:{token:sessionStorage.getItem("token")},emulateJSON:!0}).then(function(a){a.data.code?(e.$message({showClose:!0,type:"success",message:"添加成功"}),t.$router.go(-1)):e.$message({showClose:!0,type:"error",message:a.data.msg}),e.loading=!1})},handleView:function(t){this.imgUrl=t,this.visible=!0},handleRemove:function(t){var e=this.$refs.upload.fileList;this.$refs.upload.fileList.splice(e.indexOf(t),1)},handleSuccess:function(t,e){e.url=t,this.submitData.productImage=t},handleFormatError:function(t){Rt.$message({showClose:!0,type:"error",message:"只限于传jpg,jpeg,png三种图片类型"})},handleMaxSize:function(t){Rt.$message({showClose:!0,type:"error",message:"上传文件过大，请小于100kb"})}}},Ut={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("div",{staticClass:"flexr-start item-center"},[a("el-button",{attrs:{size:"mini",icon:"el-icon-arrow-left",circle:""},on:{click:function(e){t.navTo("/schoolList")}}}),t._v(" "),a("h2",{staticClass:"margin-left-shi"},[t._v("保存商品")])],1),t._v(" "),a("div",{staticStyle:{"margin-top":"15px","border-bottom":"1px solid #e1e1e1",width:"100%"}}),t._v(" "),a("Form",{staticClass:"margin-top-ershi",attrs:{model:t.submitData,"label-postion":"top"}},[a("FormItem",{attrs:{label:"商品图片"}},[t._l(t.uploadList,function(e){return a("div",{key:e.uploadList,staticClass:"demo-upload-list"},["finished"===e.status?[a("img",{attrs:{src:e.url}}),t._v(" "),a("div",{staticClass:"demo-upload-list-cover"},[a("Icon",{attrs:{type:"ios-eye-outline"},nativeOn:{click:function(a){t.handleView(e.url)}}}),t._v(" "),a("Icon",{attrs:{type:"ios-trash-outline"},nativeOn:{click:function(a){t.handleRemove(e)}}})],1)]:[e.showProgress?a("Progress",{attrs:{percent:e.percentage,"hide-info":""}}):t._e()]],2)}),t._v(" "),a("Upload",{ref:"upload",staticStyle:{display:"inline-block",width:"58px"},attrs:{"default-file-list":t.defaultList,"on-success":t.handleSuccess,format:["jpg","jpeg","png"],"max-size":100,"on-format-error":t.handleFormatError,"on-exceeded-size":t.handleMaxSize,"show-upload-list":!1,type:"drag",action:"https://www.chuyinkeji.cn/filesystem/upfile"}},[a("div",{staticStyle:{width:"58px",height:"58px","line-height":"58px"}},[a("Icon",{attrs:{type:"ios-camera",size:"20"}})],1)]),t._v(" "),a("Modal",{attrs:{title:"查看图片"},model:{value:t.visible,callback:function(e){t.visible=e},expression:"visible"}},[t.visible?a("img",{staticStyle:{width:"100%"},attrs:{src:t.imgUrl}}):t._e()])],2),t._v(" "),a("FormItem",{attrs:{label:"上架状态"}},[a("el-switch",{model:{value:t.submitData.isShow,callback:function(e){t.$set(t.submitData,"isShow",e)},expression:"submitData.isShow"}})],1),t._v(" "),a("FormItem",{attrs:{label:"商品名称"}},[a("Input",{attrs:{placeholder:"请输入商品名称"},model:{value:t.submitData.productName,callback:function(e){t.$set(t.submitData,"productName",e)},expression:"submitData.productName"}})],1),t._v(" "),a("FormItem",{attrs:{label:"商品销量"}},[a("Input",{attrs:{placeholder:"请输入商品销量"},model:{value:t.submitData.sale,callback:function(e){t.$set(t.submitData,"sale",e)},expression:"submitData.sale"}})],1),t._v(" "),a("FormItem",{attrs:{label:"兑换所需积分"}},[a("Input",{attrs:{placeholder:"请输入商品兑换的积分"},model:{value:t.submitData.price,callback:function(e){t.$set(t.submitData,"price",e)},expression:"submitData.price"}})],1),t._v(" "),a("FormItem",[a("Button",{attrs:{type:"primary",loading:t.loading},on:{click:function(e){t.add()}}},[t._v("保存提交")])],1)],1)],1)},staticRenderFns:[]};var Vt,Ht=a("C7Lr")(Gt,Ut,!1,function(t){a("CIcc")},null,null).exports,Kt={data:function(){return{data:[],total:0,searchList:[{key:"name",value:"",label:"输入用户姓名"},{key:"phone",value:"",label:"输入用户电话"}],getDataListquery:{page:1,size:10,appId:sessionStorage.getItem("surperId")}}},mounted:function(){Vt=this,this.getDataList()},methods:{getDataList:function(){this.$http.post(this.com.NODE_API+"/ops/source/order/find",this.getDataListquery,{headers:{token:sessionStorage.getItem("token")},emulateJSON:!0}).then(function(t){t.data.code?(Vt.data=t.data.params.list,Vt.total=t.data.params.total):Vt.$message({showClose:!0,type:"error",message:t.data.msg})})},update:function(t,e){var a=this;0==t&&this.$confirm("请确定已发货给用户所对应的商品","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){a.$http.post(a.com.NODE_API+"/ops/source/order/update",{id:e,status:"已发货"},{headers:{token:sessionStorage.getItem("token")},emulateJSON:!0}).then(function(t){t.data.code?(Vt.$message({showClose:!0,type:"success",message:"操作成功"}),a.getDataList()):Vt.$message({showClose:!0,type:"error",message:t.data.msg})})})},changePage:function(t){this.getDataListquery.page=t,this.getDataList()},changeSize:function(t){this.getDataListquery.size=t,this.getDataList()},filterStatus:function(t,e){return e.is_show==t}}},Xt={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("h2",[t._v("积分兑换订单列表")]),t._v(" "),a("div",{staticStyle:{"margin-top":"15px","border-bottom":"1px solid #e1e1e1",width:"100%"}}),t._v(" "),a("div",{staticClass:"search-bar"},[t._l(t.searchList,function(e,s){return a("Input",{key:s,staticClass:"il in",attrs:{placeholder:e.label},model:{value:e.value,callback:function(a){t.$set(e,"value",a)},expression:"item.value"}})}),t._v(" "),a("Button",{staticClass:"il",on:{click:function(e){t.clear()}}},[t._v("清空")]),t._v(" "),a("Button",{staticClass:"il",staticStyle:{width:"100px"},attrs:{type:"primary"},on:{click:function(e){t.search()}}},[t._v("搜索")])],2),t._v(" "),a("el-table",{staticStyle:{width:"100%","margin-top":"15px"},attrs:{data:t.data}},[a("el-table-column",{attrs:{prop:"id",label:"ID"}}),t._v(" "),a("el-table-column",{attrs:{prop:"createTime",label:"下单时间"}}),t._v(" "),a("el-table-column",{attrs:{prop:"productName",label:"积分商品"}}),t._v(" "),a("el-table-column",{attrs:{prop:"payPrice",label:"所需积分"}}),t._v(" "),a("el-table-column",{attrs:{prop:"addressName",label:"用户姓名"}}),t._v(" "),a("el-table-column",{attrs:{prop:"addressPhone",label:"用户电话"}}),t._v(" "),a("el-table-column",{attrs:{prop:"addressDetail",label:"用户地址"}}),t._v(" "),a("el-table-column",{attrs:{filters:[{text:"待发货",value:0},{text:"已发货",value:1}],"filter-method":t.filterStatus,label:"订单状态",width:"120"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-tag",{attrs:{type:"已发货"==e.row.status?"success":"danger","disable-transitions":""}},[t._v(t._s(e.row.status))])]}}])}),t._v(" "),a("el-table-column",{attrs:{label:"操作"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-dropdown",{attrs:{trigger:"click"}},[a("el-button",{staticClass:"el-dropdown-link",attrs:{type:"text"}},[t._v("\n            操作\n            "),a("i",{staticClass:"el-icon-arrow-down el-icon--right"})]),t._v(" "),a("el-dropdown-menu",{attrs:{slot:"dropdown"},slot:"dropdown"},[a("el-dropdown-item",[a("div",{staticStyle:{width:"100px"},on:{click:function(a){t.update(0,e.row.id)}}},[t._v("发货")])])],1)],1)]}}])})],1),t._v(" "),a("div",{staticClass:"flexr-end",staticStyle:{"margin-top":"20px"}},[a("Page",{attrs:{total:t.total,current:t.getDataListquery.page,"page-size":t.getDataListquery.size,"show-sizer":"","show-total":""},on:{"on-change":t.changePage,"on-page-size-change":t.changeSize}})],1)],1)},staticRenderFns:[]};var Zt,Yt=a("C7Lr")(Kt,Xt,!1,function(t){a("uot6")},null,null).exports,Qt={data:function(){return{newDialog:!1,data:[],total:0,searchList:[{key:"phone",value:"",label:"输入用户电话"}],image:[],getDataListquery:{page:1,size:10,schoolId:sessionStorage.getItem("schoolId"),isDelete:0}}},mounted:function(){Zt=this,this.getDataList()},methods:{getDataList:function(){this.$http.post(this.com.NODE_API+"/ops/secondhand/find",this.getDataListquery,{headers:{token:sessionStorage.getItem("token")},emulateJSON:!0}).then(function(t){if(t.data.code){for(var e=0;e<t.data.params.list.length;e++)t.data.params.list[e].nickName=decodeURI(t.data.params.list[e].nickName),t.data.params.list[e].image=t.data.params.list[e].image.split(",");Zt.data=t.data.params.list,Zt.total=t.data.params.total}else Zt.$message({showClose:!0,type:"error",message:t.data.msg})})},handleEdit:function(t){Zt.image=t,this.newDialog=!0},update:function(t,e){var a=this;0==t?this.$confirm("此操作将本条记录改为审核失败或下架的状态","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){a.$http.post(a.com.NODE_API+"/ops/secondhand/update",{id:e,isDelete:1},{headers:{token:sessionStorage.getItem("token")},emulateJSON:!0}).then(function(t){t.data.code?(Zt.$message({showClose:!0,type:"success",message:"操作成功"}),a.getDataList()):Zt.$message({showClose:!0,type:"error",message:t.data.msg})})}):this.$confirm("此操作将本条记录改为审核成功并上架的状态","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){a.$http.post(a.com.NODE_API+"/ops/secondhand/update",{id:e,isShow:1},{headers:{token:sessionStorage.getItem("token")},emulateJSON:!0}).then(function(t){t.data.code?(Zt.$message({showClose:!0,type:"success",message:"操作成功"}),a.getDataList()):Zt.$message({showClose:!0,type:"error",message:t.data.msg})})})},changePage:function(t){this.getDataListquery.page=t,this.getDataList()},changeSize:function(t){this.getDataListquery.size=t,this.getDataList()},filterStatus:function(t,e){return e.is_show==t}}},te={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("h2",[t._v("二手物品审核")]),t._v(" "),a("div",{staticStyle:{"margin-top":"15px","border-bottom":"1px solid #e1e1e1",width:"100%"}}),t._v(" "),a("div",{staticClass:"search-bar"},[t._l(t.searchList,function(e,s){return a("Input",{key:s,staticClass:"il in",attrs:{placeholder:e.label},model:{value:e.value,callback:function(a){t.$set(e,"value",a)},expression:"item.value"}})}),t._v(" "),a("Button",{staticClass:"il",on:{click:function(e){t.clear()}}},[t._v("清空")]),t._v(" "),a("Button",{staticClass:"il",staticStyle:{width:"100px"},attrs:{type:"primary"},on:{click:function(e){t.search()}}},[t._v("搜索")])],2),t._v(" "),a("el-table",{staticStyle:{width:"100%","margin-top":"15px"},attrs:{data:t.data}},[a("el-table-column",{attrs:{prop:"id",label:"ID",width:"50px"}}),t._v(" "),a("el-table-column",{attrs:{prop:"createTime",label:"发布时间"}}),t._v(" "),a("el-table-column",{attrs:{prop:"category",label:"所属分类"}}),t._v(" "),a("el-table-column",{attrs:{prop:"title",label:"标题"}}),t._v(" "),a("el-table-column",{attrs:{prop:"content",label:"详情"}}),t._v(" "),a("el-table-column",{attrs:{label:"商品图片"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-button",{attrs:{size:"mini"},on:{click:function(a){t.handleEdit(e.row.image)}}},[t._v("查看")])]}}])}),t._v(" "),a("el-table-column",{attrs:{prop:"price",label:"价格"}}),t._v(" "),a("el-table-column",{attrs:{prop:"nickName",label:"微信昵称"}}),t._v(" "),a("el-table-column",{attrs:{prop:"phone",label:"用户电话"}}),t._v(" "),a("el-table-column",{attrs:{prop:"text",label:"用户地址"}}),t._v(" "),a("el-table-column",{attrs:{filters:[{text:"待审核",value:0},{text:"已上架",value:1}],"filter-method":t.filterStatus,label:"订单状态",width:"120"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-tag",{attrs:{type:1==e.row.isShow?"success":"danger","disable-transitions":""}},[t._v(t._s(1==e.row.isShow?"已上架":"待审核"))])]}}])}),t._v(" "),a("el-table-column",{attrs:{label:"操作"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-dropdown",{attrs:{trigger:"click"}},[a("el-button",{staticClass:"el-dropdown-link",attrs:{type:"text"}},[t._v("\n            操作\n            "),a("i",{staticClass:"el-icon-arrow-down el-icon--right"})]),t._v(" "),a("el-dropdown-menu",{attrs:{slot:"dropdown"},slot:"dropdown"},[a("el-dropdown-item",[a("div",{staticStyle:{width:"100px"},on:{click:function(a){t.update(1,e.row.id)}}},[t._v("上架处理")])]),t._v(" "),a("el-dropdown-item",[a("div",{staticStyle:{width:"100px"},on:{click:function(a){t.update(0,e.row.id)}}},[t._v("不予上架")])])],1)],1)]}}])})],1),t._v(" "),a("div",{staticClass:"flexr-end",staticStyle:{"margin-top":"20px"}},[a("Page",{attrs:{total:t.total,current:t.getDataListquery.page,"page-size":t.getDataListquery.size,"show-sizer":"","show-total":""},on:{"on-change":t.changePage,"on-page-size-change":t.changeSize}})],1),t._v(" "),a("el-dialog",{attrs:{title:"商品图片",visible:t.newDialog,width:"50%",center:""},on:{"update:visible":function(e){t.newDialog=e}}},[t._l(t.image,function(t){return a("div",{staticClass:"flexr-center item-center",staticStyle:{width:"100%"}},[a("img",{staticClass:"margin-bottom-ershi",staticStyle:{border:"2px solid gainsboro"},attrs:{src:t,height:"300px",width:"180px",alt:""}})])}),t._v(" "),a("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(e){t.newDialog=!1}}},[t._v("取 消")])],1)],2)],1)},staticRenderFns:[]};var ee,ae=a("C7Lr")(Qt,te,!1,function(t){a("Rw6i")},null,null).exports,se={data:function(){return{data:[],total:0,searchList:[{key:"name",value:"",label:"输入公告标题"}],getDataListquery:{page:1,size:1e3,schoolId:sessionStorage.getItem("schoolId")},submitData:{title:"",content:"",schoolId:sessionStorage.getItem("schoolId")},newDialog:!1}},mounted:function(){ee=this,this.getDataList()},methods:{getDataList:function(){this.$http.post(this.com.NODE_API+"/ops/notice/find",this.getDataListquery,{headers:{token:sessionStorage.getItem("token")},emulateJSON:!0}).then(function(t){t.data.code?(ee.data=t.data.params.list,ee.total=t.data.params.list.length):ee.$message({showClose:!0,type:"error",message:t.data.msg})})},update:function(t,e,a,s){var o=this;0==t?this.$confirm("此操作将永久删除该数据, 是否继续? 若误删请联系开发人员","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){o.$http.post(o.com.NODE_API+"/ops/notice/update",{id:e,isDelete:1},{headers:{token:sessionStorage.getItem("token")},emulateJSON:!0}).then(function(t){t.data.code?(ee.$message({showClose:!0,type:"success",message:"删除成功"}),o.getDataList()):ee.$message({showClose:!0,type:"error",message:t.data.msg})})}):1==t&&(this.submitData.title=a,this.submitData.content=s,this.submitData.id=e,this.newDialog=!0)},add:function(){var t=this;this.submitData.id?this.$http.post(this.com.NODE_API+"/ops/notice/update",this.submitData,{headers:{token:sessionStorage.getItem("token")},emulateJSON:!0}).then(function(e){e.data.code?(ee.$message({showClose:!0,type:"success",message:"更新成功"}),ee.getDataList(),t.submitData.title="",t.submitData.content="",t.newDialog=!1):ee.$message({showClose:!0,type:"error",message:e.data.msg})}):this.$http.post(this.com.NODE_API+"/ops/notice/add",this.submitData,{headers:{token:sessionStorage.getItem("token")},emulateJSON:!0}).then(function(e){e.data.code?(ee.$message({showClose:!0,type:"success",message:"添加成功"}),ee.getDataList(),t.submitData.title="",t.submitData.content="",t.newDialog=!1):ee.$message({showClose:!0,type:"error",message:e.data.msg})})},changePage:function(t){this.getDataListquery.page=t,this.getDataList()},changeSize:function(t){this.getDataListquery.size=t,this.getDataList()}}},oe={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("h2",[t._v("公告列表")]),t._v(" "),a("div",{staticStyle:{"margin-top":"15px","border-bottom":"1px solid #e1e1e1",width:"100%"}}),t._v(" "),a("div",{staticClass:"search-bar"},[t._l(t.searchList,function(e,s){return a("Input",{key:s,staticClass:"il in",attrs:{placeholder:e.label},model:{value:e.value,callback:function(a){t.$set(e,"value",a)},expression:"item.value"}})}),t._v(" "),a("Button",{staticClass:"il",on:{click:function(e){t.clear()}}},[t._v("清空")]),t._v(" "),a("Button",{staticClass:"il",staticStyle:{width:"100px"},attrs:{type:"primary"},on:{click:function(e){t.search()}}},[t._v("搜索")])],2),t._v(" "),a("div",{staticClass:"flexr-between"},[a("ButtonGroup",[a("Button",{on:{click:function(e){t.newDialog=!0,t.submitData.title="",t.submitData.content=""}}},[t._v("添加公告")])],1)],1),t._v(" "),a("el-table",{staticStyle:{width:"100%","margin-top":"15px"},attrs:{data:t.data}},[a("el-table-column",{attrs:{prop:"id",label:"ID"}}),t._v(" "),a("el-table-column",{attrs:{prop:"title",label:"公告标题"}}),t._v(" "),a("el-table-column",{attrs:{prop:"content",label:"公告内容"}}),t._v(" "),a("el-table-column",{attrs:{label:"操作"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-dropdown",{attrs:{trigger:"click"}},[a("el-button",{staticClass:"el-dropdown-link",attrs:{type:"text"}},[t._v("\n            操作\n            "),a("i",{staticClass:"el-icon-arrow-down el-icon--right"})]),t._v(" "),a("el-dropdown-menu",{attrs:{slot:"dropdown"},slot:"dropdown"},[a("el-dropdown-item",[a("div",{staticStyle:{width:"100px"},on:{click:function(a){t.update(0,e.row.id,e.row.title,e.row.content)}}},[t._v("删除")])]),t._v(" "),a("el-dropdown-item",[a("div",{staticStyle:{width:"100px"},on:{click:function(a){t.update(1,e.row.id,e.row.title,e.row.content)}}},[t._v("编辑")])])],1)],1)]}}])})],1),t._v(" "),a("div",{staticClass:"flexr-end",staticStyle:{"margin-top":"20px"}},[a("Page",{attrs:{total:t.total,current:t.getDataListquery.page,"page-size":t.getDataListquery.size,"show-sizer":"","show-total":""},on:{"on-change":t.changePage,"on-page-size-change":t.changeSize}})],1),t._v(" "),a("el-dialog",{attrs:{title:"保存公告",visible:t.newDialog,width:"50%",center:""},on:{"update:visible":function(e){t.newDialog=e}}},[a("Form",{attrs:{model:t.submitData,"label-postion":"top"}},[a("FormItem",{attrs:{label:"公告标题"}},[a("Input",{attrs:{placeholder:"请输入公告标题"},model:{value:t.submitData.title,callback:function(e){t.$set(t.submitData,"title",e)},expression:"submitData.title"}})],1),t._v(" "),a("FormItem",{attrs:{label:"公告内容"}},[a("Input",{attrs:{placeholder:"请输入公告内容"},model:{value:t.submitData.content,callback:function(e){t.$set(t.submitData,"content",e)},expression:"submitData.content"}})],1)],1),t._v(" "),a("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(e){t.newDialog=!1}}},[t._v("取 消")]),t._v(" "),a("el-button",{attrs:{type:"primary"},on:{click:function(e){t.newDialog=!1,t.add()}}},[t._v("确 定")])],1)],1)],1)},staticRenderFns:[]};var ie,ne=a("C7Lr")(se,oe,!1,function(t){a("ChlU")},null,null).exports,le={data:function(){return{data:[],orders:[],total:0,getDataListquery:{page:1,size:10,schoolId:sessionStorage.getItem("schoolId")},newDialog:!1}},mounted:function(){ie=this,this.getDataList()},methods:{getDataList:function(){this.$http.post(this.com.NODE_API+"/ops/evaluate/find",this.getDataListquery,{headers:{token:sessionStorage.getItem("token")},emulateJSON:!0}).then(function(t){t.data.code?(ie.data=t.data.params.list,ie.total=t.data.params.total):ie.$message({showClose:!0,type:"error",message:t.data.msg})})},update:function(t,e){var a=this;0==t&&this.$http.post(this.com.NODE_API+"/ops/orders/find",{id:e},{headers:{token:sessionStorage.getItem("token")},emulateJSON:!0}).then(function(t){t.data.code?0==t.data.params.total?a.$http.post(a.com.NODE_API+"/ops/runorders/find",{id:e},{headers:{token:sessionStorage.getItem("token")},emulateJSON:!0}).then(function(t){t.data.code?(t.data.params.list[0].users=t.data.params.list[0].addressName+","+t.data.params.list[0].addressPhone,t.data.params.list[0].shops="跑腿订单无商家信息",t.data.params.list[0].senders=t.data.params.list[0].senderName+","+t.data.params.list[0].senderPhone,t.data.params.list[0].waterNumber="跑腿订单无流水号",ie.orders=t.data.params.list,a.newDialog=!0):ie.$message({showClose:!0,type:"error",message:t.data.msg})}):(t.data.params.list[0].senderName?t.data.params.list[0].senders=t.data.params.list[0].senderName+","+t.data.params.list[0].senderPhone:t.data.params.list[0].senders="自取订单无配送员信息",t.data.params.list[0].users=t.data.params.list[0].addressName+","+t.data.params.list[0].addressPhone,t.data.params.list[0].shops=t.data.params.list[0].shopName+","+t.data.params.list[0].shopPhone,ie.orders=t.data.params.list,a.newDialog=!0):ie.$message({showClose:!0,type:"error",message:t.data.msg})})},changePage:function(t){this.getDataListquery.page=t,this.getDataList()},changeSize:function(t){this.getDataListquery.size=t,this.getDataList()}}},re={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("h2",[t._v("用户评论列表")]),t._v(" "),a("div",{staticStyle:{"margin-top":"15px","border-bottom":"1px solid #e1e1e1",width:"100%"}}),t._v(" "),a("el-table",{staticStyle:{width:"100%","margin-top":"15px"},attrs:{data:t.data}},[a("el-table-column",{attrs:{prop:"id",label:"ID",width:"100"}}),t._v(" "),a("el-table-column",{attrs:{prop:"createTime",label:"评论时间"}}),t._v(" "),a("el-table-column",{attrs:{prop:"orderid",label:"订单编号"}}),t._v(" "),a("el-table-column",{attrs:{prop:"core",label:"评论分数"}}),t._v(" "),a("el-table-column",{attrs:{prop:"content",label:"评论内容"}}),t._v(" "),a("el-table-column",{attrs:{label:"操作"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-dropdown",{attrs:{trigger:"click"}},[a("el-button",{staticClass:"el-dropdown-link",attrs:{type:"text"}},[t._v("\n            操作\n            "),a("i",{staticClass:"el-icon-arrow-down el-icon--right"})]),t._v(" "),a("el-dropdown-menu",{attrs:{slot:"dropdown"},slot:"dropdown"},[a("el-dropdown-item",[a("div",{staticStyle:{width:"100px"},on:{click:function(a){t.update(0,e.row.orderid)}}},[t._v("查看订单")])])],1)],1)]}}])})],1),t._v(" "),a("div",{staticClass:"flexr-end",staticStyle:{"margin-top":"20px"}},[a("Page",{attrs:{total:t.total,current:t.getDataListquery.page,"page-size":t.getDataListquery.size,"show-sizer":"","show-total":""},on:{"on-change":t.changePage,"on-page-size-change":t.changeSize}})],1),t._v(" "),a("el-dialog",{attrs:{title:"订单信息",visible:t.newDialog,width:"70%",center:""},on:{"update:visible":function(e){t.newDialog=e}}},[a("el-table",{staticStyle:{width:"100%"},attrs:{data:t.orders}},[a("el-table-column",{attrs:{prop:"typ",label:"订单类型"}}),t._v(" "),a("el-table-column",{attrs:{prop:"waterNumber",label:"流水号"}}),t._v(" "),a("el-table-column",{attrs:{prop:"users",label:"用户信息"}}),t._v(" "),a("el-table-column",{attrs:{prop:"senders",label:"配送员信息"}}),t._v(" "),a("el-table-column",{attrs:{prop:"shops",label:"商家信息"}})],1),t._v(" "),a("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(e){t.newDialog=!1}}},[t._v("取 消")])],1)],1)],1)},staticRenderFns:[]};var ce,de,ue=a("C7Lr")(le,re,!1,function(t){a("O7t4")},null,null).exports,me={data:function(){return{data:[],total:0,searchList:[{key:"nickName",value:"",label:"输入名称"}],getDataListquery:{page:1,size:10}}},mounted:function(){ce=this,this.getDataList()},methods:{getDataList:function(){sessionStorage.getItem("schoolId")?this.getDataListquery.schoolId=sessionStorage.getItem("schoolId"):sessionStorage.getItem("surperId")&&(this.getDataListquery.appId=sessionStorage.getItem("surperId")),this.$http.post(this.com.NODE_API+"/ops/txlog/find",this.getDataListquery,{headers:{token:sessionStorage.getItem("token")},emulateJSON:!0}).then(function(t){if(t.data.code){for(var e in t.data.params.list){var a=new Date(t.data.params.list[e].createTime);t.data.params.list[e].createTime=a.getFullYear()+"-"+(a.getMonth()+1)+"-"+a.getDate()+" "+a.getHours()+":"+a.getMinutes()+":"+a.getSeconds()}ce.data=t.data.params.list,ce.total=t.data.params.total}else ce.$message({showClose:!0,type:"error",message:t.data.msg})})},clear:function(){for(var t in this.getDataListquery={page:1,size:10},this.searchList)this.searchList[t].value="";this.getDataList()},changePage:function(t){this.getDataListquery.page=t,this.getDataList()},changeSize:function(t){this.getDataListquery.size=t,this.getDataList()}}},pe={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("h2",[t._v("提现统计")]),t._v(" "),a("div",{staticStyle:{"margin-top":"15px","border-bottom":"1px solid #e1e1e1",width:"100%"}}),t._v(" "),a("div",{staticClass:"search-bar"},[t._l(t.searchList,function(e,s){return a("Input",{key:s,staticClass:"il in",attrs:{placeholder:e.label},model:{value:e.value,callback:function(a){t.$set(e,"value",a)},expression:"item.value"}})}),t._v(" "),a("Button",{staticClass:"il",on:{click:function(e){t.clear()}}},[t._v("清空")]),t._v(" "),a("Button",{staticClass:"il",staticStyle:{width:"100px"},attrs:{type:"primary"},on:{click:function(e){t.search()}}},[t._v("搜索")])],2),t._v(" "),a("el-table",{staticStyle:{width:"100%","margin-top":"15px"},attrs:{data:t.data}},[a("el-table-column",{attrs:{prop:"txerId",label:"提现者Id"}}),t._v(" "),a("el-table-column",{attrs:{prop:"result",label:"订单号"}}),t._v(" "),a("el-table-column",{attrs:{prop:"amount",label:"数额"}}),t._v(" "),a("el-table-column",{attrs:{prop:"createTime",label:"提现时间"}}),t._v(" "),a("el-table-column",{attrs:{prop:"type",label:"类型"}})],1),t._v(" "),a("div",{staticClass:"flexr-end",staticStyle:{"margin-top":"20px"}},[a("Page",{attrs:{total:t.total,current:t.getDataListquery.page,"page-size":t.getDataListquery.size,"show-sizer":"","show-total":""},on:{"on-change":t.changePage,"on-page-size-change":t.changeSize}})],1)],1)},staticRenderFns:[]},he=a("C7Lr")(me,pe,!1,null,null,null).exports,ge={data:function(){return{data:[],total:0,searchList:[{key:"phone",value:"",label:"输入信息"}],getDataListquery:{page:1,size:10,selfId:sessionStorage.getItem("schoolId"),type:"学校商铺日志"}}},mounted:function(){de=this,this.getDataList()},methods:{getDataList:function(){this.$http.post(this.com.NODE_API+"/ops/daylogtakeout/find",this.getDataListquery,{headers:{token:sessionStorage.getItem("token")},emulateJSON:!0}).then(function(t){t.data.code?(de.data=t.data.params.list,de.total=t.data.params.total):de.$message({showClose:!0,type:"error",message:t.data.msg})})},navToxq:function(t){this.$router.push({path:"/shopdayxq",query:{day:t}})},changePage:function(t){this.getDataListquery.page=t,this.getDataList()},changeSize:function(t){this.getDataListquery.size=t,this.getDataList()},filterStatus:function(t,e){return e.is_show==t}}},ve={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("h2",[t._v("每日外卖统计")]),t._v(" "),a("h6",{staticStyle:{color:"#999"}},[t._v("（每日凌晨统计）")]),t._v(" "),a("div",{staticStyle:{"margin-top":"15px","border-bottom":"1px solid #e1e1e1",width:"100%"}}),t._v(" "),a("div",{staticClass:"search-bar"},[t._l(t.searchList,function(e,s){return a("Input",{key:s,staticClass:"il in",attrs:{placeholder:e.label},model:{value:e.value,callback:function(a){t.$set(e,"value",a)},expression:"item.value"}})}),t._v(" "),a("Button",{staticClass:"il",on:{click:function(e){t.clear()}}},[t._v("清空")]),t._v(" "),a("Button",{staticClass:"il",staticStyle:{width:"100px"},attrs:{type:"primary"},on:{click:function(e){t.search()}}},[t._v("搜索")])],2),t._v(" "),a("el-table",{staticStyle:{width:"100%","margin-top":"15px"},attrs:{data:t.data}},[a("el-table-column",{attrs:{prop:"day",label:"对账日期"}}),t._v(" "),a("el-table-column",{attrs:{prop:"parentGet",label:"超级后台所得"}}),t._v(" "),a("el-table-column",{attrs:{prop:"selfGet",label:"负责人所得"}}),t._v(" "),a("el-table-column",{attrs:{prop:"totalCount",label:"总订单数"}}),t._v(" "),a("el-table-column",{attrs:{prop:"totalPrice",label:"总营业额"}}),t._v(" "),a("el-table-column",{attrs:{label:"操作"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-dropdown",{attrs:{trigger:"click"}},[a("el-button",{staticClass:"el-dropdown-link",attrs:{type:"text"}},[t._v("\n            操作\n            "),a("i",{staticClass:"el-icon-arrow-down el-icon--right"})]),t._v(" "),a("el-dropdown-menu",{attrs:{slot:"dropdown"},slot:"dropdown"},[a("el-dropdown-item",[a("div",{staticStyle:{width:"100px"},on:{click:function(a){t.navToxq(e.row.day)}}},[t._v("查看详情")])])],1)],1)]}}])})],1),t._v(" "),a("div",{staticClass:"flexr-end",staticStyle:{"margin-top":"20px"}},[a("Page",{attrs:{total:t.total,current:t.getDataListquery.page,"page-size":t.getDataListquery.size,"show-sizer":"","show-total":""},on:{"on-change":t.changePage,"on-page-size-change":t.changeSize}})],1)],1)},staticRenderFns:[]};var fe,be=a("C7Lr")(ge,ve,!1,function(t){a("TUX7")},null,null).exports,we={data:function(){return{status:"全部商铺",data:[],data2:[],total:0,typeList:[],zjparentGet:0,zjselfGet:0,zjproductPrice:0,zjboxPrice:0,zjsendPrice:0,zjtotalCount:0,zjtotalPrice:0,getDataListquery:{day:this.$route.query.day,page:1,size:1e3,parentId:sessionStorage.getItem("schoolId"),type:"商铺日志"}}},mounted:function(){fe=this,this.getType(),this.getDataList()},methods:{navTo:function(t){this.$router.go(-1)},getDataList:function(){this.$http.post(this.com.NODE_API+"/ops/daylogtakeout/find",this.getDataListquery,{headers:{token:sessionStorage.getItem("token")},emulateJSON:!0}).then(function(t){if(t.data.code){for(var e=0;e<t.data.params.list.length;e++)fe.zjparentGet+=t.data.params.list[e].parentGet,fe.zjselfGet+=t.data.params.list[e].selfGet,fe.zjtotalCount+=t.data.params.list[e].totalCount,fe.zjtotalPrice+=t.data.params.list[e].totalPrice,fe.zjproductPrice+=t.data.params.list[e].productPrice,fe.zjboxPrice+=t.data.params.list[e].boxPrice,fe.zjsendPrice+=t.data.params.list[e].sendPrice;fe.data=t.data.params.list,fe.data2=t.data.params.list,fe.total=t.data.params.total}else fe.$message({showClose:!0,type:"error",message:t.data.msg})})},getType:function(){fe.typeList.push({id:0,name:"全部商铺"}),this.$http.post(this.com.NODE_API+"/ops/shopcategory/find",{page:1,size:100,schoolId:sessionStorage.getItem("schoolId")},{headers:{token:sessionStorage.getItem("token")},emulateJSON:!0}).then(function(t){if(t.data.code)for(var e=0;e<t.data.params.list.length;e++)fe.typeList.push(t.data.params.list[e]);else fe.$message({showClose:!0,type:"error",message:t.data.msg})})},handleCommand:function(t){if(this.status=this.typeList[t].name,this.zjparentGet=0,this.zjselfGet=0,this.zjtotalCount=0,this.zjtotalPrice=0,this.zjproductPrice=0,this.zjboxPrice=0,this.zjsendPrice=0,0!=t)this.data=[],this.$http.post(this.com.NODE_API+"/ops/shop/find",{page:1,size:100,schoolId:sessionStorage.getItem("schoolId"),shopCategoryId:this.typeList[t].id},{headers:{token:sessionStorage.getItem("token")},emulateJSON:!0}).then(function(t){if(t.data.code)for(var e=0;e<fe.data2.length;e++)for(var a=0;a<t.data.params.list.length;a++)t.data.params.list[a].id===fe.data2[e].selfId&&(fe.data.push(fe.data2[e]),fe.zjparentGet+=fe.data2[e].parentGet,fe.zjselfGet+=fe.data2[e].selfGet,fe.zjtotalCount+=fe.data2[e].totalCount,fe.zjtotalPrice+=fe.data2[e].totalPrice,fe.zjproductPrice+=fe.data2[e].productPrice,fe.zjboxPrice+=fe.data2[e].boxPrice,fe.zjsendPrice+=fe.data2[e].sendPrice);else fe.$message({showClose:!0,type:"error",message:t.data.msg})});else{for(var e=0;e<fe.data2.length;e++)fe.zjparentGet+=fe.data2[e].parentGet,fe.zjselfGet+=fe.data2[e].selfGet,fe.zjtotalCount+=fe.data2[e].totalCount,fe.zjtotalPrice+=fe.data2[e].totalPrice,fe.zjproductPrice+=fe.data2[e].productPrice,fe.zjboxPrice+=fe.data2[e].boxPrice,fe.zjsendPrice+=fe.data2[e].sendPrice;fe.data=fe.data2}},changePage:function(t){this.getDataListquery.page=t,this.getDataList()},changeSize:function(t){this.getDataListquery.size=t,this.getDataList()}}},_e={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("div",{staticClass:"flexr-start item-center"},[a("el-button",{attrs:{size:"mini",icon:"el-icon-arrow-left",circle:""},on:{click:function(e){t.navTo("/shopday")}}}),t._v(" "),a("h2",{staticClass:"margin-left-shi"},[t._v("详情统计")])],1),t._v(" "),a("div",{staticStyle:{"margin-top":"15px","border-bottom":"1px solid #e1e1e1",width:"100%"}}),t._v(" "),a("div",{staticClass:"search-bar flexr-start item-center"},[a("el-dropdown",{attrs:{trigger:"click"},on:{command:t.handleCommand}},[a("el-button",{attrs:{type:"primary"}},[t._v("\n        "+t._s(t.status)),a("i",{staticClass:"el-icon-arrow-down el-icon--right"})]),t._v(" "),a("el-dropdown-menu",{attrs:{slot:"dropdown"},slot:"dropdown"},t._l(t.typeList,function(e,s){return a("el-dropdown-item",{key:e.id,attrs:{command:s}},[t._v(t._s(e.name))])}))],1),t._v(" "),a("div",{staticClass:"bold",staticStyle:{"font-size":"12px",color:"#333","margin-left":"30px"}},[t._v("总计")]),t._v(" "),a("div",{staticStyle:{"font-size":"12px",color:"#888","margin-left":"50px"}},[t._v("商铺所得："+t._s(t.zjselfGet))]),t._v(" "),a("div",{staticStyle:{"font-size":"12px",color:"#888","margin-left":"50px"}},[t._v("商品总价："+t._s(t.zjproductPrice))]),t._v(" "),a("div",{staticStyle:{"font-size":"12px",color:"#888","margin-left":"50px"}},[t._v("餐盒费用："+t._s(t.zjboxPrice))]),t._v(" "),a("div",{staticStyle:{"font-size":"12px",color:"#888","margin-left":"50px"}},[t._v("总订单数："+t._s(t.zjtotalCount))]),t._v(" "),a("div",{staticStyle:{"font-size":"12px",color:"#888","margin-left":"50px"}},[t._v("总营业额："+t._s(t.zjtotalPrice))])],1),t._v(" "),a("el-table",{staticStyle:{width:"100%","margin-top":"15px"},attrs:{data:t.data}},[a("el-table-column",{attrs:{prop:"selfName",label:"商铺名称"}}),t._v(" "),a("el-table-column",{attrs:{prop:"selfGet",label:"商铺所得"}}),t._v(" "),a("el-table-column",{attrs:{prop:"productPrice",label:"商品总价"}}),t._v(" "),a("el-table-column",{attrs:{prop:"boxPrice",label:"餐盒费用"}}),t._v(" "),a("el-table-column",{attrs:{prop:"totalCount",label:"总订单数"}}),t._v(" "),a("el-table-column",{attrs:{prop:"totalPrice",label:"总营业额"}})],1),t._v(" "),a("div",{staticClass:"flexr-end",staticStyle:{"margin-top":"20px"}},[a("Page",{attrs:{total:t.total,current:t.getDataListquery.page,"page-size":t.getDataListquery.size,"show-total":""}})],1)],1)},staticRenderFns:[]};var ye,xe=a("C7Lr")(we,_e,!1,function(t){a("PWTl")},null,null).exports,Ie={data:function(){return{data:{send:0,charge:0},total:0,searchList:[{key:"phone",value:"",label:"输入信息"}],getDataListquery:{appId:sessionStorage.getItem("surperId")}}},mounted:function(){ye=this,this.getDataList()},methods:{getDataList:function(){this.$http.post(this.com.NODE_API+"/ops/charge/tj",this.getDataListquery,{headers:{token:sessionStorage.getItem("token")},emulateJSON:!0}).then(function(t){t.data.code?(ye.data=t.data.params,console.log(ye.data)):ye.$message({showClose:!0,type:"error",message:t.data.msg})})},changePage:function(t){this.getDataListquery.page=t,this.getDataList()},changeSize:function(t){this.getDataListquery.size=t,this.getDataList()}}},De={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("h2",[t._v("充值统计")]),t._v(" "),a("div",{staticStyle:{"margin-top":"15px","border-bottom":"1px solid #e1e1e1",width:"100%"}}),t._v(" "),a("div",{staticClass:"search-bar"},[t._l(t.searchList,function(e,s){return a("Input",{key:s,staticClass:"il in",attrs:{placeholder:e.label},model:{value:e.value,callback:function(a){t.$set(e,"value",a)},expression:"item.value"}})}),t._v(" "),a("Button",{staticClass:"il",on:{click:function(e){t.clear()}}},[t._v("清空")]),t._v(" "),a("Button",{staticClass:"il",staticStyle:{width:"100px"},attrs:{type:"primary"},on:{click:function(e){t.search()}}},[t._v("搜索")])],2),t._v(" "),a("Form",{staticClass:"margin-top-ershi",attrs:{model:t.data,"label-postion":"top"}},[a("FormItem",{attrs:{label:"充值总额"}},[a("Input",{model:{value:t.data.charge,callback:function(e){t.$set(t.data,"charge",e)},expression:"data.charge"}})],1),t._v(" "),a("FormItem",{attrs:{label:"送出总额"}},[a("Input",{model:{value:t.data.send,callback:function(e){t.$set(t.data,"send",e)},expression:"data.send"}})],1),t._v(" "),a("FormItem",{attrs:{label:"剩余总额"}},[a("Input",{model:{value:t.data.surplus,callback:function(e){t.$set(t.data,"surplus",e)},expression:"data.surplus"}})],1)],1),t._v(" "),a("div",{staticClass:"flexr-end",staticStyle:{"margin-top":"20px"}},[a("Page",{attrs:{total:t.total,current:t.getDataListquery.page,"page-size":t.getDataListquery.size,"show-sizer":"","show-total":""},on:{"on-change":t.changePage,"on-page-size-change":t.changeSize}})],1)],1)},staticRenderFns:[]};var ke=a("C7Lr")(Ie,De,!1,function(t){a("cdKT")},null,null).exports;s.default.use(l.a);var Se=new l.a({routes:[{path:"/login",name:"login",component:A},{path:"/",name:"index",component:u,children:[{path:"/adminOverview",name:"adminOverview",component:h},{path:"/senderList",name:"senderList",component:W},{path:"/addSchool",name:"addSchool",component:f},{path:"/addFloor",name:"addFloor",component:y},{path:"/schoolList",name:"schoolList",component:k},{path:"/settingSchool",name:"settingSchool",component:C},{path:"/floorList",name:"floorList",component:z},{path:"/wxuser",name:"wxuser",component:J},{path:"/typeList",name:"typeList",component:H},{path:"/addShop",name:"addShop",component:Y},{path:"/shopList",name:"shopList",component:at},{path:"/goodsList",name:"goodsList",component:nt},{path:"/foodsList",name:"foodsList",component:dt},{path:"/addFood",name:"addFood",component:vt},{path:"/orderzs",name:"orderzs",component:_t},{path:"/orderzq",name:"orderzq",component:Dt},{path:"/orderpt",name:"orderpt",component:$t},{path:"/rechage",name:"rechage",component:zt},{path:"/sliderList",name:"sliderList",component:Tt},{path:"/jiFenList",name:"jiFenList",component:Wt},{path:"/addJiFen",name:"addJiFen",component:Ht},{path:"/jiFenOrder",name:"jiFenOrder",component:Yt},{path:"/ershouList",name:"ershouList",component:ae},{path:"/noticeList",name:"noticeList",component:ne},{path:"/pinglun",name:"pinglun",component:ue},{path:"/supplierAllBack",name:"supplierAllBack",component:Et},{path:"/settingAllBack",name:"settingAllBack",component:Jt},{path:"/tixian",name:"tixian",component:he},{path:"/shopday",name:"shopday",component:be},{path:"/shopdayxq",name:"shopdayxq",component:xe},{path:"/rechageFind",name:"rechageFind",component:ke}]}]}),Le=a("waDh"),$e=a.n(Le),Ce=(a("rnh/"),a("9ab0")),Pe=a.n(Ce),Ne=(a("tqWA"),a("OolZ")),ze=a("aiqZ"),qe=a.n(ze);a("lMgl"),a("D9hl"),a("3ntp");s.default.config.productionTip=!1,s.default.prototype.com=a("LOkV"),s.default.use($e.a),s.default.use(Pe.a),s.default.use(Ne.a),s.default.use(qe.a),new s.default({el:"#app",router:Se,components:{App:n},template:"<App/>"})},O7t4:function(t,e){},OATa:function(t,e){},PWTl:function(t,e){},Rfgy:function(t,e){},Rw6i:function(t,e){},TUX7:function(t,e){},Tnw8:function(t,e){},U2o2:function(t,e,a){t.exports=a.p+"yzxy/img/xiaocx.086383e.jpg"},"V/ld":function(t,e){},W4vk:function(t,e){},Wvba:function(t,e){},Yip9:function(t,e){},cdKT:function(t,e){},hFBL:function(t,e){},lMgl:function(t,e){},"rnh/":function(t,e){},t4XL:function(t,e){},tHF7:function(t,e){},tqWA:function(t,e){},uot6:function(t,e){},vAD1:function(t,e,a){t.exports=a.p+"yzxy/img/yezi.824880a.jpg"},vUcf:function(t,e){},w1Te:function(t,e){},xFra:function(t,e){},z7IK:function(t,e){}},["NHnr"]);